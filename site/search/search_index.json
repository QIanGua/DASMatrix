{"config":{"lang":["zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"DASMatrix","text":"<p>\u5206\u5e03\u5f0f\u58f0\u5b66\u4f20\u611f\u6570\u636e\u5904\u7406\u4e0e\u5206\u6790\u6846\u67b6</p>"},{"location":"#_1","title":"\u7b80\u4ecb","text":"<p>DASMatrix \u662f\u4e00\u4e2a\u4e13\u4e3a\u5206\u5e03\u5f0f\u58f0\u5b66\u4f20\u611f\uff08DAS\uff09\u6570\u636e\u5904\u7406\u548c\u5206\u6790\u8bbe\u8ba1\u7684\u9ad8\u6027\u80fd Python \u5e93\u3002\u8be5\u6846\u67b6\u63d0\u4f9b\u4e86\u4e00\u6574\u5957\u5de5\u5177\uff0c\u7528\u4e8e\u8bfb\u53d6\u3001\u5904\u7406\u3001\u5206\u6790\u548c\u53ef\u89c6\u5316 DAS \u6570\u636e\uff0c\u9002\u7528\u4e8e\u5730\u7403\u7269\u7406\u5b66\u3001\u7ed3\u6784\u5065\u5eb7\u76d1\u6d4b\u3001\u5b89\u9632\u76d1\u63a7\u7b49\u9886\u57df\u7684\u7814\u7a76\u548c\u5e94\u7528\u3002</p>"},{"location":"#_2","title":"\u6838\u5fc3\u7279\u6027","text":"<ul> <li>\ud83d\ude80 \u9ad8\u6548\u6570\u636e\u8bfb\u53d6\uff1a\u652f\u6301 DAT\u3001HDF5 \u7b49\u591a\u79cd\u6570\u636e\u683c\u5f0f</li> <li>\ud83d\udcca \u4e13\u4e1a\u4fe1\u53f7\u5904\u7406\uff1a\u63d0\u4f9b\u9891\u8c31\u5206\u6790\u3001\u6ee4\u6ce2\u3001\u79ef\u5206\u7b49\u591a\u79cd\u4fe1\u53f7\u5904\u7406\u529f\u80fd</li> <li>\ud83c\udfa8 \u79d1\u5b66\u7ea7\u53ef\u89c6\u5316\uff1a\u5305\u542b\u65f6\u57df\u6ce2\u5f62\u56fe\u3001\u9891\u8c31\u56fe\u3001\u65f6\u9891\u56fe\u3001\u7011\u5e03\u56fe\u7b49</li> <li>\u26a1 \u9ad8\u6027\u80fd\u8bbe\u8ba1\uff1a\u5173\u952e\u7b97\u6cd5\u91c7\u7528\u5411\u91cf\u5316\u3001Numba JIT \u7f16\u8bd1\u4f18\u5316</li> <li>\ud83d\udd17 \u94fe\u5f0f API\uff1a\u6d41\u7545\u7684 DASFrame API\uff0c\u652f\u6301\u5ef6\u8fdf\u8ba1\u7b97</li> </ul>"},{"location":"#_3","title":"\u5feb\u901f\u5b89\u88c5","text":"<pre><code># \u514b\u9686\u4ed3\u5e93\ngit clone https://github.com/yourusername/DASMatrix.git\ncd DASMatrix\n\n# \u4f7f\u7528 uv \u5b89\u88c5 (\u63a8\u8350)\nuv sync\n\n# \u6216\u4f7f\u7528 pip\npip install -e .\n</code></pre>"},{"location":"#_4","title":"\u5feb\u901f\u793a\u4f8b","text":"<pre><code>from DASMatrix import df\n\n# \u521b\u5efa DASFrame \u5e76\u94fe\u5f0f\u5904\u7406\nresult = (\n    df(data, fs=1000)\n    .detrend()\n    .bandpass(1, 100)\n    .normalize()\n)\n\n# \u53ef\u89c6\u5316\nresult.plot_heatmap(title=\"Processed DAS Data\")\n</code></pre>"},{"location":"#_5","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u5feb\u901f\u5f00\u59cb - \u8be6\u7ec6\u7684\u5165\u95e8\u6559\u7a0b</li> <li>API \u6587\u6863 - \u5b8c\u6574\u7684 API \u53c2\u8003</li> <li>\u8d21\u732e\u6307\u5357 - \u5982\u4f55\u53c2\u4e0e\u9879\u76ee\u5f00\u53d1</li> </ul>"},{"location":"contributing/","title":"\u8d21\u732e\u6307\u5357","text":"<p>\u6b22\u8fce\u4e3a DASMatrix \u505a\u51fa\u8d21\u732e\uff01\u672c\u6587\u6863\u4ecb\u7ecd\u4ee3\u7801\u89c4\u8303\u548c\u8d21\u732e\u6d41\u7a0b\u3002</p>"},{"location":"contributing/#_2","title":"\u5f00\u53d1\u73af\u5883\u8bbe\u7f6e","text":"<pre><code># \u514b\u9686\u4ed3\u5e93\ngit clone https://github.com/yourusername/DASMatrix.git\ncd DASMatrix\n\n# \u5b89\u88c5\u5f00\u53d1\u4f9d\u8d56\nuv sync\n\n# \u8fd0\u884c\u6d4b\u8bd5\njust test\n\n# \u8fd0\u884c\u7c7b\u578b\u68c0\u67e5\njust typecheck\n\n# \u683c\u5f0f\u5316\u4ee3\u7801\njust format\n</code></pre>"},{"location":"contributing/#docstring","title":"Docstring \u89c4\u8303","text":"<p>DASMatrix \u4f7f\u7528 Google Style docstring\uff0c\u7edf\u4e00\u4f7f\u7528\u4e2d\u6587\u63cf\u8ff0\u3002</p>"},{"location":"contributing/#_3","title":"\u57fa\u672c\u683c\u5f0f","text":"<pre><code>def function_name(arg1: Type1, arg2: Type2 = default) -&gt; ReturnType:\n    \"\"\"\u7b80\u77ed\u7684\u4e00\u884c\u63cf\u8ff0\u3002\n\n    \u53ef\u9009\u7684\u8be6\u7ec6\u63cf\u8ff0\uff0c\u89e3\u91ca\u51fd\u6570\u7684\u5177\u4f53\u884c\u4e3a\u3001\u7b97\u6cd5\u539f\u7406\u6216\u6ce8\u610f\u4e8b\u9879\u3002\n    \u53ef\u4ee5\u662f\u591a\u884c\u3002\n\n    Args:\n        arg1: \u53c2\u65701\u7684\u63cf\u8ff0\n        arg2: \u53c2\u65702\u7684\u63cf\u8ff0\uff0c\u9ed8\u8ba4\u4e3a default\n\n    Returns:\n        \u8fd4\u56de\u503c\u7684\u63cf\u8ff0\n\n    Raises:\n        ValueError: \u4f55\u65f6\u629b\u51fa\u6b64\u5f02\u5e38\n        TypeError: \u4f55\u65f6\u629b\u51fa\u6b64\u5f02\u5e38\n\n    Example:\n        &gt;&gt;&gt; result = function_name(\"test\", 42)\n        &gt;&gt;&gt; print(result)\n        expected_output\n    \"\"\"\n</code></pre>"},{"location":"contributing/#docstring_1","title":"\u7c7b\u7684 Docstring","text":"<pre><code>class ClassName:\n    \"\"\"\u7c7b\u7684\u7b80\u77ed\u63cf\u8ff0\u3002\n\n    \u7c7b\u7684\u8be6\u7ec6\u63cf\u8ff0\uff08\u53ef\u9009\uff09\uff0c\u8bf4\u660e\u7528\u9014\u3001\u8bbe\u8ba1\u7406\u5ff5\u7b49\u3002\n\n    Attributes:\n        attr1: \u5c5e\u60271\u7684\u63cf\u8ff0\n        attr2: \u5c5e\u60272\u7684\u63cf\u8ff0\n\n    Example:\n        &gt;&gt;&gt; obj = ClassName(param1, param2)\n        &gt;&gt;&gt; obj.method()\n    \"\"\"\n\n    def __init__(self, param1: Type1, param2: Type2):\n        \"\"\"\u521d\u59cb\u5316\u7c7b\u5b9e\u4f8b\u3002\n\n        Args:\n            param1: \u53c2\u65701\u7684\u63cf\u8ff0\n            param2: \u53c2\u65702\u7684\u63cf\u8ff0\n        \"\"\"\n</code></pre>"},{"location":"contributing/#_4","title":"\u89c4\u8303\u8981\u70b9","text":"\u9879\u76ee \u8981\u6c42 \u8bed\u8a00 \u7edf\u4e00\u4f7f\u7528\u4e2d\u6587 \u98ce\u683c Google Style \u7c7b\u578b\u6ce8\u89e3 \u5fc5\u987b\u63d0\u4f9b Args \u6240\u6709\u53c2\u6570\u5fc5\u987b\u8bf4\u660e Returns \u5fc5\u987b\u8bf4\u660e\u8fd4\u56de\u503c Raises \u5982\u6709\u5f02\u5e38\uff0c\u5fc5\u987b\u8bf4\u660e Example \u63a8\u8350\u4f46\u975e\u5fc5\u987b"},{"location":"contributing/#_5","title":"\u4ee3\u7801\u89c4\u8303","text":""},{"location":"contributing/#_6","title":"\u683c\u5f0f\u5316","text":"<p>\u4f7f\u7528 <code>ruff</code> \u8fdb\u884c\u4ee3\u7801\u683c\u5f0f\u5316\u548c lint\uff1a</p> <pre><code>just format  # \u683c\u5f0f\u5316\njust lint    # \u68c0\u67e5\u95ee\u9898\n</code></pre>"},{"location":"contributing/#_7","title":"\u7c7b\u578b\u68c0\u67e5","text":"<p>\u4f7f\u7528 <code>mypy</code> \u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff1a</p> <pre><code>just typecheck\n</code></pre>"},{"location":"contributing/#_8","title":"\u6d4b\u8bd5","text":"<p>\u4f7f\u7528 <code>pytest</code> \u8fd0\u884c\u6d4b\u8bd5\uff1a</p> <pre><code>just test\n</code></pre>"},{"location":"contributing/#_9","title":"\u63d0\u4ea4\u6d41\u7a0b","text":"<ol> <li>Fork \u4ed3\u5e93</li> <li>\u521b\u5efa\u529f\u80fd\u5206\u652f\uff1a<code>git checkout -b feature/your-feature</code></li> <li>\u7f16\u5199\u4ee3\u7801\u548c\u6d4b\u8bd5</li> <li>\u786e\u4fdd\u6240\u6709\u68c0\u67e5\u901a\u8fc7\uff1a</li> </ol> <pre><code>just lint\njust typecheck\njust test\n</code></pre> <ol> <li>\u63d0\u4ea4 Pull Request</li> </ol>"},{"location":"quickstart/","title":"\u5feb\u901f\u5f00\u59cb","text":"<p>\u672c\u6307\u5357\u5c06\u5e2e\u52a9\u60a8\u5feb\u901f\u4e0a\u624b DASMatrix\u3002</p>"},{"location":"quickstart/#_2","title":"\u5b89\u88c5","text":""},{"location":"quickstart/#_3","title":"\u73af\u5883\u8981\u6c42","text":"<ul> <li>Python 3.9+</li> <li>NumPy 1.20+</li> <li>SciPy 1.10+</li> <li>Matplotlib 3.7+</li> </ul>"},{"location":"quickstart/#uv","title":"\u4f7f\u7528 uv \u5b89\u88c5\uff08\u63a8\u8350\uff09","text":"<pre><code>git clone https://github.com/yourusername/DASMatrix.git\ncd DASMatrix\nuv sync\n</code></pre>"},{"location":"quickstart/#pip","title":"\u4f7f\u7528 pip \u5b89\u88c5","text":"<pre><code>pip install -e .\n</code></pre>"},{"location":"quickstart/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":""},{"location":"quickstart/#1","title":"1. \u6570\u636e\u8bfb\u53d6","text":"<pre><code>from DASMatrix.acquisition import DASReader, DataType\nfrom DASMatrix.config import SamplingConfig\n\n# \u914d\u7f6e\u91c7\u6837\u53c2\u6570\nconfig = SamplingConfig(\n    fs=10000,      # \u91c7\u6837\u9891\u7387 10kHz\n    channels=512,  # 512 \u4e2a\u901a\u9053\n    byte_order=\"big\"\n)\n\n# \u521b\u5efa\u8bfb\u53d6\u5668\u5e76\u8bfb\u53d6\u6570\u636e\nreader = DASReader(config, data_type=DataType.DAT)\ndata = reader.ReadRawData(\"path/to/data.dat\")\n</code></pre>"},{"location":"quickstart/#2-dasframe","title":"2. \u4f7f\u7528 DASFrame \u8fdb\u884c\u94fe\u5f0f\u5904\u7406","text":"<pre><code>from DASMatrix import df\n\n# \u521b\u5efa DASFrame\nframe = df(data, fs=10000)\n\n# \u94fe\u5f0f\u4fe1\u53f7\u5904\u7406\nprocessed = (\n    frame\n    .detrend()              # \u53bb\u8d8b\u52bf\n    .demean()               # \u53bb\u5747\u503c\n    .bandpass(1, 500)       # 1-500Hz \u5e26\u901a\u6ee4\u6ce2\n    .normalize()            # \u5f52\u4e00\u5316\n)\n\n# \u83b7\u53d6\u5904\u7406\u7ed3\u679c\nresult = processed.collect()\n</code></pre>"},{"location":"quickstart/#3","title":"3. \u53ef\u89c6\u5316","text":"<pre><code># \u65f6\u95f4\u5e8f\u5217\u56fe\nprocessed.plot_ts(ch=0, title=\"Channel 0\")\n\n# \u70ed\u56fe/\u7011\u5e03\u56fe\nprocessed.plot_heatmap(title=\"DAS Waterfall\")\n\n# \u9891\u8c31\u56fe\nprocessed.plot_spec(ch=0, title=\"Spectrogram\")\n</code></pre>"},{"location":"quickstart/#_5","title":"\u5e38\u7528\u64cd\u4f5c","text":""},{"location":"quickstart/#_6","title":"\u6ee4\u6ce2\u5668","text":"\u65b9\u6cd5 \u8bf4\u660e <code>bandpass(low, high)</code> \u5e26\u901a\u6ee4\u6ce2 <code>lowpass(cutoff)</code> \u4f4e\u901a\u6ee4\u6ce2 <code>highpass(cutoff)</code> \u9ad8\u901a\u6ee4\u6ce2 <code>notch(freq)</code> \u9677\u6ce2\u6ee4\u6ce2 <code>median_filter(k)</code> \u4e2d\u503c\u6ee4\u6ce2"},{"location":"quickstart/#_7","title":"\u53d8\u6362","text":"\u65b9\u6cd5 \u8bf4\u660e <code>fft()</code> \u5feb\u901f\u5085\u91cc\u53f6\u53d8\u6362 <code>stft()</code> \u77ed\u65f6\u5085\u91cc\u53f6\u53d8\u6362 <code>hilbert()</code> \u5e0c\u5c14\u4f2f\u7279\u53d8\u6362 <code>envelope()</code> \u5305\u7edc\u63d0\u53d6"},{"location":"quickstart/#_8","title":"\u7edf\u8ba1","text":"\u65b9\u6cd5 \u8bf4\u660e <code>mean(axis)</code> \u5747\u503c <code>std(axis)</code> \u6807\u51c6\u5dee <code>max(axis)</code> \u6700\u5927\u503c <code>min(axis)</code> \u6700\u5c0f\u503c <code>rms()</code> \u5747\u65b9\u6839"},{"location":"quickstart/#_9","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u67e5\u770b API \u6587\u6863 \u4e86\u89e3\u5b8c\u6574\u529f\u80fd</li> <li>\u9605\u8bfb \u8d21\u732e\u6307\u5357 \u53c2\u4e0e\u9879\u76ee\u5f00\u53d1</li> </ul>"},{"location":"api/","title":"API \u6587\u6863","text":"<p>DASMatrix \u7684 API \u6309\u529f\u80fd\u6a21\u5757\u7ec4\u7ec7\uff0c\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u90e8\u5206\uff1a</p>"},{"location":"api/#_1","title":"\u6a21\u5757\u6982\u89c8","text":""},{"location":"api/#api_1","title":"\u6838\u5fc3 API","text":"<ul> <li>DASFrame - \u6838\u5fc3\u6570\u636e\u5904\u7406\u7c7b\uff0c\u63d0\u4f9b\u94fe\u5f0f API \u8fdb\u884c\u4fe1\u53f7\u5904\u7406</li> </ul>"},{"location":"api/#_2","title":"\u6570\u636e\u83b7\u53d6","text":"<ul> <li>\u6570\u636e\u8bfb\u53d6 - \u652f\u6301 DAT\u3001HDF5 \u7b49\u683c\u5f0f\u7684\u6570\u636e\u8bfb\u53d6</li> </ul>"},{"location":"api/#_3","title":"\u4fe1\u53f7\u5904\u7406","text":"<ul> <li>\u4fe1\u53f7\u5904\u7406 - \u6ee4\u6ce2\u3001\u53d8\u6362\u3001\u7edf\u8ba1\u7b49\u4fe1\u53f7\u5904\u7406\u529f\u80fd</li> </ul>"},{"location":"api/#_4","title":"\u53ef\u89c6\u5316","text":"<ul> <li>\u53ef\u89c6\u5316 - \u79d1\u5b66\u7ea7\u6570\u636e\u53ef\u89c6\u5316\uff08\u6ce2\u5f62\u56fe\u3001\u9891\u8c31\u56fe\u3001\u7011\u5e03\u56fe\u7b49\uff09</li> </ul>"},{"location":"api/#_5","title":"\u5185\u90e8\u5b9e\u73b0","text":"<ul> <li>\u8ba1\u7b97\u56fe - \u5ef6\u8fdf\u8ba1\u7b97\u56fe\u5b9e\u73b0</li> </ul>"},{"location":"api/#_6","title":"\u5feb\u901f\u5bfc\u5165","text":"<pre><code># \u63a8\u8350\u65b9\u5f0f\uff1a\u4f7f\u7528\u4fbf\u6377\u51fd\u6570\nfrom DASMatrix import df\n\n# \u5b8c\u6574\u5bfc\u5165\nfrom DASMatrix.api import DASFrame\nfrom DASMatrix.acquisition import DASReader, DataType\nfrom DASMatrix.config import SamplingConfig, VisualizationConfig\nfrom DASMatrix.visualization import DASVisualizer\n</code></pre>"},{"location":"api/computation_graph/","title":"\u8ba1\u7b97\u56fe","text":"<p>DASMatrix \u4f7f\u7528\u8ba1\u7b97\u56fe\uff08Computation Graph\uff09\u5b9e\u73b0\u5ef6\u8fdf\u8ba1\u7b97\uff0c\u652f\u6301\u7b97\u5b50\u878d\u5408\u4f18\u5316\u3002</p>"},{"location":"api/computation_graph/#_2","title":"\u6982\u8ff0","text":"<p>\u8ba1\u7b97\u56fe\u662f DASFrame \u5ef6\u8fdf\u8ba1\u7b97\u7684\u6838\u5fc3\u673a\u5236\uff1a</p> <ol> <li>\u7528\u6237\u8c03\u7528\u65b9\u6cd5\uff08\u5982 <code>.bandpass()</code>\uff09\u65f6\uff0c\u4e0d\u7acb\u5373\u6267\u884c</li> <li>\u7cfb\u7edf\u6784\u5efa\u64cd\u4f5c\u8282\u70b9\u5e76\u52a0\u5165\u8ba1\u7b97\u56fe</li> <li>\u8c03\u7528 <code>.collect()</code> \u65f6\uff0c\u4f18\u5316\u5668\u878d\u5408\u53ef\u5408\u5e76\u7684\u64cd\u4f5c</li> <li>\u6267\u884c\u5f15\u64ce\u6309\u4f18\u5316\u540e\u7684\u8ba1\u5212\u6267\u884c</li> </ol> <pre><code>\u7528\u6237\u64cd\u4f5c \u2192 \u6784\u5efa\u8ba1\u7b97\u56fe \u2192 \u4f18\u5316\uff08\u7b97\u5b50\u878d\u5408\uff09 \u2192 \u6267\u884c\n</code></pre>"},{"location":"api/computation_graph/#api","title":"API \u53c2\u8003","text":""},{"location":"api/computation_graph/#computationgraph","title":"ComputationGraph","text":""},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.ComputationGraph","title":"ComputationGraph","text":"<pre><code>ComputationGraph(root: Optional[Node] = None)\n</code></pre> <p>\u8ba1\u7b97\u56fe\u5bb9\u5668\uff0c\u7ba1\u7406\u8282\u70b9\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u3002</p> <p>ComputationGraph \u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u6bcf\u6b21\u6dfb\u52a0\u8282\u70b9\u90fd\u8fd4\u56de\u65b0\u7684\u56fe\u5b9e\u4f8b\u3002</p> <p>\u5c5e\u6027\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>root</code> <p>\u8ba1\u7b97\u56fe\u7684\u6839\u8282\u70b9\uff08\u8f93\u51fa\u8282\u70b9\uff09</p> <p>\u521d\u59cb\u5316\u8ba1\u7b97\u56fe\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>root</code> <code>Optional[Node]</code> <p>\u6839\u8282\u70b9\uff0c\u9ed8\u8ba4\u4e3a None \u8868\u793a\u7a7a\u56fe</p> <code>None</code> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>def __init__(self, root: Optional[Node] = None) -&gt; None:\n    \"\"\"\u521d\u59cb\u5316\u8ba1\u7b97\u56fe\u3002\n\n    Args:\n        root: \u6839\u8282\u70b9\uff0c\u9ed8\u8ba4\u4e3a None \u8868\u793a\u7a7a\u56fe\n    \"\"\"\n    self.root = root\n</code></pre>"},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.ComputationGraph.nodes","title":"nodes  <code>property</code>","text":"<pre><code>nodes: List[Node]\n</code></pre> <p>\u83b7\u53d6\u8ba1\u7b97\u56fe\u4e2d\u7684\u6240\u6709\u8282\u70b9\uff08\u62d3\u6251\u5e8f\uff09\u3002</p> <p>\u8fd4\u56de\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>List[Node]</code> <p>List[Node]: \u6309\u62d3\u6251\u987a\u5e8f\u6392\u5217\u7684\u8282\u70b9\u5217\u8868</p>"},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.ComputationGraph.leaf","title":"leaf  <code>classmethod</code>","text":"<pre><code>leaf(data: Any) -&gt; ComputationGraph\n</code></pre> <p>\u521b\u5efa\u53ea\u5305\u542b\u4e00\u4e2a\u6570\u636e\u6e90\u8282\u70b9\u7684\u8ba1\u7b97\u56fe\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>data</code> <code>Any</code> <p>\u539f\u59cb\u8f93\u5165\u6570\u636e</p> \u5fc5\u9700 <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>ComputationGraph</code> <code>ComputationGraph</code> <p>\u65b0\u7684\u8ba1\u7b97\u56fe\u5b9e\u4f8b</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>@classmethod\ndef leaf(cls, data: Any) -&gt; \"ComputationGraph\":\n    \"\"\"\u521b\u5efa\u53ea\u5305\u542b\u4e00\u4e2a\u6570\u636e\u6e90\u8282\u70b9\u7684\u8ba1\u7b97\u56fe\u3002\n\n    Args:\n        data: \u539f\u59cb\u8f93\u5165\u6570\u636e\n\n    Returns:\n        ComputationGraph: \u65b0\u7684\u8ba1\u7b97\u56fe\u5b9e\u4f8b\n    \"\"\"\n    source = SourceNode(data)\n    return cls(source)\n</code></pre>"},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.ComputationGraph.add_node","title":"add_node","text":"<pre><code>add_node(node: Node) -&gt; ComputationGraph\n</code></pre> <p>\u6dfb\u52a0\u8282\u70b9\u5e76\u8fd4\u56de\u65b0\u7684\u56fe\u5b9e\u4f8b\u3002</p> <p>\u91c7\u7528\u4e0d\u53ef\u53d8\u98ce\u683c\uff0c\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u65b0\u6839\u8282\u70b9\u7684\u65b0\u56fe\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>node</code> <code>Node</code> <p>\u8981\u6dfb\u52a0\u7684\u8282\u70b9</p> \u5fc5\u9700 <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>ComputationGraph</code> <code>ComputationGraph</code> <p>\u65b0\u7684\u8ba1\u7b97\u56fe\u5b9e\u4f8b</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>def add_node(self, node: Node) -&gt; \"ComputationGraph\":\n    \"\"\"\u6dfb\u52a0\u8282\u70b9\u5e76\u8fd4\u56de\u65b0\u7684\u56fe\u5b9e\u4f8b\u3002\n\n    \u91c7\u7528\u4e0d\u53ef\u53d8\u98ce\u683c\uff0c\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u65b0\u6839\u8282\u70b9\u7684\u65b0\u56fe\u3002\n\n    Args:\n        node: \u8981\u6dfb\u52a0\u7684\u8282\u70b9\n\n    Returns:\n        ComputationGraph: \u65b0\u7684\u8ba1\u7b97\u56fe\u5b9e\u4f8b\n    \"\"\"\n    return ComputationGraph(node)\n</code></pre>"},{"location":"api/computation_graph/#node","title":"Node","text":""},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.Node","title":"Node","text":"<pre><code>Node(name: str, domain: NodeDomain = NodeDomain.GENERIC)\n</code></pre> <p>               Bases: <code>ABC</code></p> <p>\u8ba1\u7b97\u56fe\u8282\u70b9\u62bd\u8c61\u57fa\u7c7b\u3002</p> <p>\u6240\u6709\u8282\u70b9\u7c7b\u578b\u7684\u57fa\u7c7b\uff0c\u5b9a\u4e49\u4e86\u8282\u70b9\u7684\u57fa\u672c\u5c5e\u6027\u548c\u63a5\u53e3\u3002</p> <p>\u5c5e\u6027\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>name</code> <p>\u8282\u70b9\u540d\u79f0\uff0c\u7528\u4e8e\u8c03\u8bd5\u548c\u65e5\u5fd7</p> <code>domain</code> <p>\u8282\u70b9\u8ba1\u7b97\u57df</p> <code>inputs</code> <code>List[Node]</code> <p>\u8f93\u5165\u8282\u70b9\u5217\u8868</p> <code>result</code> <code>Any</code> <p>\u7f13\u5b58\u7684\u8ba1\u7b97\u7ed3\u679c</p> <code>computed</code> <p>\u662f\u5426\u5df2\u8ba1\u7b97\u7684\u6807\u5fd7</p> <p>\u521d\u59cb\u5316\u8282\u70b9\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>name</code> <code>str</code> <p>\u8282\u70b9\u540d\u79f0</p> \u5fc5\u9700 <code>domain</code> <code>NodeDomain</code> <p>\u8282\u70b9\u8ba1\u7b97\u57df\uff0c\u9ed8\u8ba4\u4e3a GENERIC</p> <code>GENERIC</code> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>def __init__(self, name: str, domain: NodeDomain = NodeDomain.GENERIC) -&gt; None:\n    \"\"\"\u521d\u59cb\u5316\u8282\u70b9\u3002\n\n    Args:\n        name: \u8282\u70b9\u540d\u79f0\n        domain: \u8282\u70b9\u8ba1\u7b97\u57df\uff0c\u9ed8\u8ba4\u4e3a GENERIC\n    \"\"\"\n    self.name = name\n    self.domain = domain\n    self.inputs: List[\"Node\"] = []\n    self.result: Any = None\n    self.computed = False\n</code></pre>"},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.Node.add_input","title":"add_input","text":"<pre><code>add_input(node: Node) -&gt; Node\n</code></pre> <p>\u6dfb\u52a0\u8f93\u5165\u8282\u70b9\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>node</code> <code>Node</code> <p>\u8981\u6dfb\u52a0\u7684\u8f93\u5165\u8282\u70b9</p> \u5fc5\u9700 <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>Node</code> <code>Node</code> <p>\u8fd4\u56de\u81ea\u8eab\u4ee5\u652f\u6301\u94fe\u5f0f\u8c03\u7528</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>def add_input(self, node: \"Node\") -&gt; \"Node\":\n    \"\"\"\u6dfb\u52a0\u8f93\u5165\u8282\u70b9\u3002\n\n    Args:\n        node: \u8981\u6dfb\u52a0\u7684\u8f93\u5165\u8282\u70b9\n\n    Returns:\n        Node: \u8fd4\u56de\u81ea\u8eab\u4ee5\u652f\u6301\u94fe\u5f0f\u8c03\u7528\n    \"\"\"\n    self.inputs.append(node)\n    return self\n</code></pre>"},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.Node.compute","title":"compute  <code>abstractmethod</code>","text":"<pre><code>compute(backend: Any = None) -&gt; Any\n</code></pre> <p>\u6267\u884c\u8282\u70b9\u8ba1\u7b97\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>backend</code> <code>Any</code> <p>\u540e\u7aef\u5f15\u64ce\u5b9e\u4f8b</p> <code>None</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>Any</code> <code>Any</code> <p>\u8ba1\u7b97\u7ed3\u679c</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>@abstractmethod\ndef compute(self, backend: Any = None) -&gt; Any:\n    \"\"\"\u6267\u884c\u8282\u70b9\u8ba1\u7b97\u3002\n\n    Args:\n        backend: \u540e\u7aef\u5f15\u64ce\u5b9e\u4f8b\n\n    Returns:\n        Any: \u8ba1\u7b97\u7ed3\u679c\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.Node.reset","title":"reset","text":"<pre><code>reset() -&gt; None\n</code></pre> <p>\u91cd\u7f6e\u8282\u70b9\u72b6\u6001\uff0c\u6e05\u9664\u7f13\u5b58\u7ed3\u679c\u3002</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>def reset(self) -&gt; None:\n    \"\"\"\u91cd\u7f6e\u8282\u70b9\u72b6\u6001\uff0c\u6e05\u9664\u7f13\u5b58\u7ed3\u679c\u3002\"\"\"\n    self.result = None\n    self.computed = False\n</code></pre>"},{"location":"api/computation_graph/#sourcenode","title":"SourceNode","text":""},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.SourceNode","title":"SourceNode","text":"<pre><code>SourceNode(data: Any, name: str = 'source', domain: NodeDomain = NodeDomain.GENERIC)\n</code></pre> <p>               Bases: <code>Node</code></p> <p>\u6570\u636e\u6e90\u8282\u70b9\uff0c\u4ee3\u8868\u8ba1\u7b97\u56fe\u7684\u8f93\u5165\u6570\u636e\u3002</p> <p>SourceNode \u662f\u8ba1\u7b97\u56fe\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u4e0d\u4f9d\u8d56\u5176\u4ed6\u8282\u70b9\uff0c \u76f4\u63a5\u6301\u6709\u539f\u59cb\u6570\u636e\u3002</p> <p>\u5c5e\u6027\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>data</code> <p>\u539f\u59cb\u8f93\u5165\u6570\u636e</p> <p>\u521d\u59cb\u5316\u6570\u636e\u6e90\u8282\u70b9\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>data</code> <code>Any</code> <p>\u539f\u59cb\u8f93\u5165\u6570\u636e\uff0c\u901a\u5e38\u4e3a NumPy \u6570\u7ec4</p> \u5fc5\u9700 <code>name</code> <code>str</code> <p>\u8282\u70b9\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a \"source\"</p> <code>'source'</code> <code>domain</code> <code>NodeDomain</code> <p>\u8282\u70b9\u8ba1\u7b97\u57df</p> <code>GENERIC</code> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>def __init__(\n    self, data: Any, name: str = \"source\", domain: NodeDomain = NodeDomain.GENERIC\n) -&gt; None:\n    \"\"\"\u521d\u59cb\u5316\u6570\u636e\u6e90\u8282\u70b9\u3002\n\n    Args:\n        data: \u539f\u59cb\u8f93\u5165\u6570\u636e\uff0c\u901a\u5e38\u4e3a NumPy \u6570\u7ec4\n        name: \u8282\u70b9\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a \"source\"\n        domain: \u8282\u70b9\u8ba1\u7b97\u57df\n    \"\"\"\n    super().__init__(name, domain)\n    self.data = data\n</code></pre>"},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.SourceNode.compute","title":"compute","text":"<pre><code>compute(backend: Any = None) -&gt; Any\n</code></pre> <p>\u8fd4\u56de\u539f\u59cb\u6570\u636e\u3002</p> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>Any</code> <code>Any</code> <p>\u539f\u59cb\u8f93\u5165\u6570\u636e</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>def compute(self, backend: Any = None) -&gt; Any:\n    \"\"\"\u8fd4\u56de\u539f\u59cb\u6570\u636e\u3002\n\n    Returns:\n        Any: \u539f\u59cb\u8f93\u5165\u6570\u636e\n    \"\"\"\n    return self.data\n</code></pre>"},{"location":"api/computation_graph/#operationnode","title":"OperationNode","text":""},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.OperationNode","title":"OperationNode","text":"<pre><code>OperationNode(operation: str, inputs: List[Node], args: Tuple[Any, ...] = (), kwargs: Optional[Dict[str, Any]] = None, domain: NodeDomain = NodeDomain.GENERIC, name: str = 'operation')\n</code></pre> <p>               Bases: <code>Node</code></p> <p>\u64cd\u4f5c\u8282\u70b9\uff0c\u4ee3\u8868\u4e00\u4e2a\u4fe1\u53f7\u5904\u7406\u64cd\u4f5c\u3002</p> <p>OperationNode \u5c01\u88c5\u4e86\u5355\u4e2a\u64cd\u4f5c\u7684\u5168\u90e8\u4fe1\u606f\uff0c\u5305\u62ec\u64cd\u4f5c\u540d\u79f0\u3001\u53c2\u6570\u7b49\u3002</p> <p>\u5c5e\u6027\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>operation</code> <p>\u64cd\u4f5c\u540d\u79f0\uff0c\u5982 'detrend', 'bandpass' \u7b49</p> <code>args</code> <p>\u4f4d\u7f6e\u53c2\u6570\u5143\u7ec4</p> <code>kwargs</code> <p>\u5173\u952e\u5b57\u53c2\u6570\u5b57\u5178</p> <p>\u521d\u59cb\u5316\u64cd\u4f5c\u8282\u70b9\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>operation</code> <code>str</code> <p>\u64cd\u4f5c\u540d\u79f0</p> \u5fc5\u9700 <code>inputs</code> <code>List[Node]</code> <p>\u8f93\u5165\u8282\u70b9\u5217\u8868</p> \u5fc5\u9700 <code>args</code> <code>Tuple[Any, ...]</code> <p>\u4f4d\u7f6e\u53c2\u6570</p> <code>()</code> <code>kwargs</code> <code>Optional[Dict[str, Any]]</code> <p>\u5173\u952e\u5b57\u53c2\u6570</p> <code>None</code> <code>domain</code> <code>NodeDomain</code> <p>\u8282\u70b9\u8ba1\u7b97\u57df</p> <code>GENERIC</code> <code>name</code> <code>str</code> <p>\u8282\u70b9\u540d\u79f0</p> <code>'operation'</code> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>def __init__(\n    self,\n    operation: str,\n    inputs: List[Node],\n    args: Tuple[Any, ...] = (),\n    kwargs: Optional[Dict[str, Any]] = None,\n    domain: NodeDomain = NodeDomain.GENERIC,\n    name: str = \"operation\",\n) -&gt; None:\n    \"\"\"\u521d\u59cb\u5316\u64cd\u4f5c\u8282\u70b9\u3002\n\n    Args:\n        operation: \u64cd\u4f5c\u540d\u79f0\n        inputs: \u8f93\u5165\u8282\u70b9\u5217\u8868\n        args: \u4f4d\u7f6e\u53c2\u6570\n        kwargs: \u5173\u952e\u5b57\u53c2\u6570\n        domain: \u8282\u70b9\u8ba1\u7b97\u57df\n        name: \u8282\u70b9\u540d\u79f0\n    \"\"\"\n    super().__init__(name, domain)\n    self.operation = operation\n    self.inputs = inputs\n    self.args = args\n    self.kwargs = kwargs or {}\n</code></pre>"},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.OperationNode.compute","title":"compute","text":"<pre><code>compute(backend: Any = None) -&gt; Any\n</code></pre> <p>\u6267\u884c\u64cd\u4f5c\u8ba1\u7b97\u3002</p> <p>\u6ce8\u610f\uff1a\u5728\u6df7\u5408\u5f15\u64ce\u4e2d\uff0c\u6b64\u65b9\u6cd5\u4e0d\u5e94\u76f4\u63a5\u8c03\u7528\uff0c \u5e94\u7531 ExecutionPlanner \u751f\u6210\u6267\u884c\u8ba1\u5212\u540e\u7531 Backend \u6267\u884c\u3002</p> <p>\u5f15\u53d1\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>NotImplementedError</code> <p>\u59cb\u7ec8\u629b\u51fa\uff0c\u63d0\u793a\u4f7f\u7528\u6b63\u786e\u7684\u6267\u884c\u65b9\u5f0f</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>def compute(self, backend: Any = None) -&gt; Any:\n    \"\"\"\u6267\u884c\u64cd\u4f5c\u8ba1\u7b97\u3002\n\n    \u6ce8\u610f\uff1a\u5728\u6df7\u5408\u5f15\u64ce\u4e2d\uff0c\u6b64\u65b9\u6cd5\u4e0d\u5e94\u76f4\u63a5\u8c03\u7528\uff0c\n    \u5e94\u7531 ExecutionPlanner \u751f\u6210\u6267\u884c\u8ba1\u5212\u540e\u7531 Backend \u6267\u884c\u3002\n\n    Raises:\n        NotImplementedError: \u59cb\u7ec8\u629b\u51fa\uff0c\u63d0\u793a\u4f7f\u7528\u6b63\u786e\u7684\u6267\u884c\u65b9\u5f0f\n    \"\"\"\n    raise NotImplementedError(\n        \"OperationNode should be executed by a Backend/Planner\"\n    )\n</code></pre>"},{"location":"api/computation_graph/#fusionnode","title":"FusionNode","text":""},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.FusionNode","title":"FusionNode","text":"<pre><code>FusionNode(nodes: List[OperationNode], name: str = 'fused_kernel')\n</code></pre> <p>               Bases: <code>Node</code></p> <p>\u878d\u5408\u8282\u70b9\uff0c\u5305\u542b\u591a\u4e2a\u53ef\u5408\u5e76\u7684\u8fde\u7eed\u64cd\u4f5c\u3002</p> <p>FusionNode \u662f\u4f18\u5316\u5668\u7684\u4ea7\u7269\uff0c\u5c06\u591a\u4e2a\u8fde\u7eed\u7684 Signal \u57df\u64cd\u4f5c\u878d\u5408\u4e3a \u5355\u4e2a\u8282\u70b9\uff0c\u7531 Numba JIT \u7f16\u8bd1\u4e3a\u9ad8\u6548\u5185\u6838\u3002</p> <p>\u5c5e\u6027\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>fused_nodes</code> <p>\u88ab\u878d\u5408\u7684\u64cd\u4f5c\u8282\u70b9\u5217\u8868</p> <p>\u521d\u59cb\u5316\u878d\u5408\u8282\u70b9\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>nodes</code> <code>List[OperationNode]</code> <p>\u8981\u878d\u5408\u7684\u64cd\u4f5c\u8282\u70b9\u5217\u8868</p> \u5fc5\u9700 <code>name</code> <code>str</code> <p>\u8282\u70b9\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a \"fused_kernel\"</p> <code>'fused_kernel'</code> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>def __init__(self, nodes: List[OperationNode], name: str = \"fused_kernel\") -&gt; None:\n    \"\"\"\u521d\u59cb\u5316\u878d\u5408\u8282\u70b9\u3002\n\n    Args:\n        nodes: \u8981\u878d\u5408\u7684\u64cd\u4f5c\u8282\u70b9\u5217\u8868\n        name: \u8282\u70b9\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a \"fused_kernel\"\n    \"\"\"\n    super().__init__(name, NodeDomain.SIGNAL)\n    self.fused_nodes = nodes\n    if nodes:\n        self.inputs = nodes[0].inputs\n</code></pre>"},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.FusionNode.compute","title":"compute","text":"<pre><code>compute(backend: Any = None) -&gt; Any\n</code></pre> <p>\u6267\u884c\u878d\u5408\u8282\u70b9\u8ba1\u7b97\u3002</p> <p>\u5f15\u53d1\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>NotImplementedError</code> <p>\u878d\u5408\u8282\u70b9\u5fc5\u987b\u7531 NumbaBackend \u7f16\u8bd1\u6267\u884c</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/core/computation_graph.py</code> <pre><code>def compute(self, backend: Any = None) -&gt; Any:\n    \"\"\"\u6267\u884c\u878d\u5408\u8282\u70b9\u8ba1\u7b97\u3002\n\n    Raises:\n        NotImplementedError: \u878d\u5408\u8282\u70b9\u5fc5\u987b\u7531 NumbaBackend \u7f16\u8bd1\u6267\u884c\n    \"\"\"\n    raise NotImplementedError(\n        \"FusionNode must be compiled and executed by NumbaBackend\"\n    )\n</code></pre>"},{"location":"api/computation_graph/#nodedomain","title":"NodeDomain","text":""},{"location":"api/computation_graph/#DASMatrix.core.computation_graph.NodeDomain","title":"NodeDomain","text":"<p>               Bases: <code>Enum</code></p> <p>\u8282\u70b9\u8ba1\u7b97\u57df\u679a\u4e3e\u3002</p> <p>\u7528\u4e8e\u6807\u8bc6\u8282\u70b9\u5e94\u8be5\u7531\u54ea\u4e2a\u540e\u7aef\u5f15\u64ce\u6267\u884c\u3002</p> <p>\u5c5e\u6027\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>GENERIC</code> <p>\u901a\u7528\u57df\uff0c\u53ef\u7531\u4efb\u610f\u540e\u7aef\u6267\u884c</p> <code>METADATA</code> <p>\u5143\u6570\u636e\u57df\uff0c\u7531 Polars \u540e\u7aef\u5904\u7406</p> <code>SIGNAL</code> <p>\u4fe1\u53f7\u57df\uff0c\u7531 Numba/NumPy \u540e\u7aef\u5904\u7406</p>"},{"location":"api/dasframe/","title":"DASFrame","text":"<p><code>DASFrame</code> \u662f DASMatrix \u7684\u6838\u5fc3\u6570\u636e\u5904\u7406\u7c7b\uff0c\u63d0\u4f9b\u6d41\u7545\u7684\u94fe\u5f0f API \u8fdb\u884c DAS \u4fe1\u53f7\u5904\u7406\u3002</p>"},{"location":"api/dasframe/#_1","title":"\u6982\u8ff0","text":"<p>DASFrame \u91c7\u7528\u5ef6\u8fdf\u8ba1\u7b97\uff08Lazy Evaluation\uff09\u6a21\u5f0f\uff1a\u6240\u6709\u64cd\u4f5c\u4e0d\u4f1a\u7acb\u5373\u6267\u884c\uff0c\u800c\u662f\u6784\u5efa\u8ba1\u7b97\u56fe\uff0c\u76f4\u5230\u8c03\u7528 <code>collect()</code> \u6216\u53ef\u89c6\u5316\u65b9\u6cd5\u65f6\u624d\u771f\u6b63\u8ba1\u7b97\u3002</p> <pre><code>from DASMatrix import df\n\n# \u94fe\u5f0f\u5904\u7406\nresult = (\n    df(data, fs=1000)\n    .detrend()\n    .bandpass(1, 100)\n    .normalize()\n    .collect()  # \u89e6\u53d1\u8ba1\u7b97\n)\n</code></pre>"},{"location":"api/dasframe/#api","title":"API \u53c2\u8003","text":""},{"location":"api/dasframe/#DASMatrix.api.DASFrame","title":"DASFrame","text":"<pre><code>DASFrame(data: Any, fs: float, graph: Optional[ComputationGraph] = None, node: Optional[Node] = None, **metadata: Any)\n</code></pre> <p>DAS \u6570\u636e\u5904\u7406\u6838\u5fc3\u7c7b\uff0c\u63d0\u4f9b\u6d41\u7545\u7684\u94fe\u5f0f API\u3002</p> <p>DASFrame \u91c7\u7528\u5ef6\u8fdf\u8ba1\u7b97\uff08Lazy Evaluation\uff09\u6a21\u5f0f\uff0c\u6240\u6709\u4fe1\u53f7\u5904\u7406\u64cd\u4f5c\u4e0d\u4f1a\u7acb\u5373\u6267\u884c\uff0c \u800c\u662f\u6784\u5efa\u8ba1\u7b97\u56fe\uff0c\u76f4\u5230\u8c03\u7528 <code>collect()</code> \u6216\u53ef\u89c6\u5316\u65b9\u6cd5\u65f6\u624d\u771f\u6b63\u8ba1\u7b97\u3002\u8fd9\u79cd\u8bbe\u8ba1\u5141\u8bb8 \u5f15\u64ce\u8fdb\u884c\u7b97\u5b50\u878d\u5408\u7b49\u4f18\u5316\uff0c\u63d0\u9ad8\u8ba1\u7b97\u6548\u7387\u3002</p> <p>\u5185\u90e8\u4f7f\u7528\u6df7\u5408\u6267\u884c\u5f15\u64ce\uff08HybridEngine\uff09\uff0c\u534f\u8c03 NumPy/SciPy \u540e\u7aef\u548c Numba JIT \u540e\u7aef\u3002</p> <p>\u5c5e\u6027\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>_fs</code> <p>\u91c7\u6837\u9891\u7387 (Hz)</p> <code>_metadata</code> <p>\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5143\u6570\u636e\u5b57\u5178</p> <code>_source_data</code> <p>\u539f\u59cb\u6570\u636e\u5f15\u7528</p> <code>_graph</code> <p>\u8ba1\u7b97\u56fe\u5b9e\u4f8b</p> <code>_node</code> <p>\u5f53\u524d\u6307\u5411\u7684\u8ba1\u7b97\u56fe\u8282\u70b9</p> <code>_engine</code> <p>\u6df7\u5408\u6267\u884c\u5f15\u64ce\u5b9e\u4f8b</p> Example <p>import numpy as np from DASMatrix import df data = np.random.randn(1000, 10)  # 1000 \u6837\u672c, 10 \u901a\u9053 result = ( ...     df(data, fs=1000) ...     .detrend() ...     .bandpass(1, 100) ...     .normalize() ...     .collect() ... )</p> <p>\u521d\u59cb\u5316 DASFrame \u5b9e\u4f8b\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>data</code> <code>Any</code> <p>\u8f93\u5165\u6570\u636e\uff0c\u901a\u5e38\u4e3a\u5f62\u72b6 (n_samples, n_channels) \u7684 NumPy \u6570\u7ec4</p> \u5fc5\u9700 <code>fs</code> <code>float</code> <p>\u91c7\u6837\u9891\u7387 (Hz)</p> \u5fc5\u9700 <code>graph</code> <code>Optional[ComputationGraph]</code> <p>\u8ba1\u7b97\u56fe\u5b9e\u4f8b\uff0c\u7528\u4e8e\u94fe\u5f0f\u64cd\u4f5c\u4f20\u9012\uff08\u5185\u90e8\u4f7f\u7528\uff09</p> <code>None</code> <code>node</code> <code>Optional[Node]</code> <p>\u5f53\u524d\u6307\u5411\u7684\u8ba1\u7b97\u56fe\u8282\u70b9\uff08\u5185\u90e8\u4f7f\u7528\uff09</p> <code>None</code> <code>**metadata</code> <code>Any</code> <p>\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5143\u6570\u636e\uff0c\u5982 channel_names\u3001units \u7b49</p> <code>{}</code> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def __init__(\n    self,\n    data: Any,\n    fs: float,\n    graph: Optional[ComputationGraph] = None,\n    node: Optional[Node] = None,\n    **metadata: Any,\n) -&gt; None:\n    \"\"\"\u521d\u59cb\u5316 DASFrame \u5b9e\u4f8b\u3002\n\n    Args:\n        data: \u8f93\u5165\u6570\u636e\uff0c\u901a\u5e38\u4e3a\u5f62\u72b6 (n_samples, n_channels) \u7684 NumPy \u6570\u7ec4\n        fs: \u91c7\u6837\u9891\u7387 (Hz)\n        graph: \u8ba1\u7b97\u56fe\u5b9e\u4f8b\uff0c\u7528\u4e8e\u94fe\u5f0f\u64cd\u4f5c\u4f20\u9012\uff08\u5185\u90e8\u4f7f\u7528\uff09\n        node: \u5f53\u524d\u6307\u5411\u7684\u8ba1\u7b97\u56fe\u8282\u70b9\uff08\u5185\u90e8\u4f7f\u7528\uff09\n        **metadata: \u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5143\u6570\u636e\uff0c\u5982 channel_names\u3001units \u7b49\n    \"\"\"\n    self._fs = fs\n    self._metadata = metadata\n    self._source_data = data\n\n    self._engine = HybridEngine()\n\n    if graph is None:\n        self._graph = ComputationGraph.leaf(data)\n        self._node = self._graph.root\n    else:\n        self._graph = graph\n        self._node = node\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.collect","title":"collect","text":"<pre><code>collect() -&gt; np.ndarray\n</code></pre> <p>\u89e6\u53d1\u5ef6\u8fdf\u8ba1\u7b97\u5e76\u8fd4\u56de\u7ed3\u679c\u6570\u636e\u3002</p> <p>\u8fd9\u662f\u5ef6\u8fdf\u8ba1\u7b97\u7684\u7ec8\u6b62\u65b9\u6cd5\u3002\u8c03\u7528\u6b64\u65b9\u6cd5\u65f6\uff0c\u8ba1\u7b97\u56fe\u4e2d\u7684\u6240\u6709\u64cd\u4f5c\u5c06\u88ab\u4f18\u5316 \u5e76\u6267\u884c\uff0c\u8fd4\u56de\u6700\u7ec8\u7684 NumPy \u6570\u7ec4\u3002</p> <p>\u8fd4\u56de\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>ndarray</code> <p>np.ndarray: \u8ba1\u7b97\u540e\u7684\u6570\u636e\u6570\u7ec4\uff0c\u5f62\u72b6\u4e0e\u8f93\u5165\u76f8\u540c\u6216\u6839\u636e\u64cd\u4f5c\u53d8\u5316</p> Example <p>frame = df(data, fs=1000).bandpass(1, 100) result = frame.collect()  # \u6b64\u65f6\u624d\u771f\u6b63\u6267\u884c\u6ee4\u6ce2</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def collect(self) -&gt; np.ndarray:\n    \"\"\"\u89e6\u53d1\u5ef6\u8fdf\u8ba1\u7b97\u5e76\u8fd4\u56de\u7ed3\u679c\u6570\u636e\u3002\n\n    \u8fd9\u662f\u5ef6\u8fdf\u8ba1\u7b97\u7684\u7ec8\u6b62\u65b9\u6cd5\u3002\u8c03\u7528\u6b64\u65b9\u6cd5\u65f6\uff0c\u8ba1\u7b97\u56fe\u4e2d\u7684\u6240\u6709\u64cd\u4f5c\u5c06\u88ab\u4f18\u5316\n    \u5e76\u6267\u884c\uff0c\u8fd4\u56de\u6700\u7ec8\u7684 NumPy \u6570\u7ec4\u3002\n\n    Returns:\n        np.ndarray: \u8ba1\u7b97\u540e\u7684\u6570\u636e\u6570\u7ec4\uff0c\u5f62\u72b6\u4e0e\u8f93\u5165\u76f8\u540c\u6216\u6839\u636e\u64cd\u4f5c\u53d8\u5316\n\n    Example:\n        &gt;&gt;&gt; frame = df(data, fs=1000).bandpass(1, 100)\n        &gt;&gt;&gt; result = frame.collect()  # \u6b64\u65f6\u624d\u771f\u6b63\u6267\u884c\u6ee4\u6ce2\n    \"\"\"\n    exec_graph = ComputationGraph(self._node)\n    return self._engine.compute(exec_graph)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.slice","title":"slice","text":"<pre><code>slice(t: slice = slice(None), x: slice = slice(None)) -&gt; DASFrame\n</code></pre> <p>\u5bf9\u6570\u636e\u8fdb\u884c\u5207\u7247\u64cd\u4f5c\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>t</code> <code>slice</code> <p>\u65f6\u95f4\u7ef4\u5ea6\u7684\u5207\u7247 (\u884c)</p> <code>slice(None)</code> <code>x</code> <code>slice</code> <p>\u901a\u9053\u7ef4\u5ea6\u7684\u5207\u7247 (\u5217)</p> <code>slice(None)</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u5207\u7247\u540e\u7684\u65b0 DASFrame</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def slice(self, t: slice = slice(None), x: slice = slice(None)) -&gt; \"DASFrame\":\n    \"\"\"\u5bf9\u6570\u636e\u8fdb\u884c\u5207\u7247\u64cd\u4f5c\u3002\n\n    Args:\n        t: \u65f6\u95f4\u7ef4\u5ea6\u7684\u5207\u7247 (\u884c)\n        x: \u901a\u9053\u7ef4\u5ea6\u7684\u5207\u7247 (\u5217)\n\n    Returns:\n        DASFrame: \u5207\u7247\u540e\u7684\u65b0 DASFrame\n    \"\"\"\n    return self._apply_signal_op(\"slice\", t=t, x=x)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.detrend","title":"detrend","text":"<pre><code>detrend(axis: str = 'time') -&gt; DASFrame\n</code></pre> <p>\u53bb\u8d8b\u52bf\uff0c\u79fb\u9664\u4fe1\u53f7\u7684\u7ebf\u6027\u8d8b\u52bf\u6210\u5206\u3002</p> <p>\u4f7f\u7528\u6700\u5c0f\u4e8c\u4e58\u6cd5\u62df\u5408\u5e76\u51cf\u53bb\u7ebf\u6027\u8d8b\u52bf\uff0c\u5e38\u7528\u4e8e\u9884\u5904\u7406\u6b65\u9aa4\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>axis</code> <code>str</code> <p>\u53bb\u8d8b\u52bf\u7684\u65b9\u5411\uff0c'time' \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\uff08\u9ed8\u8ba4\uff09</p> <code>'time'</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u53bb\u8d8b\u52bf\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def detrend(self, axis: str = \"time\") -&gt; \"DASFrame\":\n    \"\"\"\u53bb\u8d8b\u52bf\uff0c\u79fb\u9664\u4fe1\u53f7\u7684\u7ebf\u6027\u8d8b\u52bf\u6210\u5206\u3002\n\n    \u4f7f\u7528\u6700\u5c0f\u4e8c\u4e58\u6cd5\u62df\u5408\u5e76\u51cf\u53bb\u7ebf\u6027\u8d8b\u52bf\uff0c\u5e38\u7528\u4e8e\u9884\u5904\u7406\u6b65\u9aa4\u3002\n\n    Args:\n        axis: \u53bb\u8d8b\u52bf\u7684\u65b9\u5411\uff0c'time' \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\uff08\u9ed8\u8ba4\uff09\n\n    Returns:\n        DASFrame: \u53bb\u8d8b\u52bf\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b\n    \"\"\"\n    return self._apply_signal_op(\"detrend\", axis=axis)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.demean","title":"demean","text":"<pre><code>demean(axis: str = 'time') -&gt; DASFrame\n</code></pre> <p>\u53bb\u5747\u503c\uff0c\u79fb\u9664\u4fe1\u53f7\u7684\u76f4\u6d41\u5206\u91cf\u3002</p> <p>\u6cbf\u6307\u5b9a\u8f74\u8ba1\u7b97\u5747\u503c\u5e76\u51cf\u53bb\uff0c\u4f7f\u4fe1\u53f7\u96f6\u5747\u503c\u5316\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>axis</code> <code>str</code> <p>\u53bb\u5747\u503c\u7684\u65b9\u5411\uff0c'time' \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\uff08\u9ed8\u8ba4\uff09</p> <code>'time'</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u53bb\u5747\u503c\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def demean(self, axis: str = \"time\") -&gt; \"DASFrame\":\n    \"\"\"\u53bb\u5747\u503c\uff0c\u79fb\u9664\u4fe1\u53f7\u7684\u76f4\u6d41\u5206\u91cf\u3002\n\n    \u6cbf\u6307\u5b9a\u8f74\u8ba1\u7b97\u5747\u503c\u5e76\u51cf\u53bb\uff0c\u4f7f\u4fe1\u53f7\u96f6\u5747\u503c\u5316\u3002\n\n    Args:\n        axis: \u53bb\u5747\u503c\u7684\u65b9\u5411\uff0c'time' \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\uff08\u9ed8\u8ba4\uff09\n\n    Returns:\n        DASFrame: \u53bb\u5747\u503c\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b\n    \"\"\"\n    return self._apply_signal_op(\"demean\", axis=axis)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.abs","title":"abs","text":"<pre><code>abs() -&gt; DASFrame\n</code></pre> <p>\u8ba1\u7b97\u4fe1\u53f7\u7684\u7edd\u5bf9\u503c\u3002</p> <p>\u5bf9\u6bcf\u4e2a\u91c7\u6837\u70b9\u53d6\u7edd\u5bf9\u503c\uff0c\u5e38\u7528\u4e8e\u5305\u7edc\u5206\u6790\u6216\u80fd\u91cf\u8ba1\u7b97\u3002</p> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u7edd\u5bf9\u503c\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def abs(self) -&gt; \"DASFrame\":\n    \"\"\"\u8ba1\u7b97\u4fe1\u53f7\u7684\u7edd\u5bf9\u503c\u3002\n\n    \u5bf9\u6bcf\u4e2a\u91c7\u6837\u70b9\u53d6\u7edd\u5bf9\u503c\uff0c\u5e38\u7528\u4e8e\u5305\u7edc\u5206\u6790\u6216\u80fd\u91cf\u8ba1\u7b97\u3002\n\n    Returns:\n        DASFrame: \u7edd\u5bf9\u503c\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b\n    \"\"\"\n    return self._apply_signal_op(\"abs\")\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.scale","title":"scale","text":"<pre><code>scale(factor: float = 1.0) -&gt; DASFrame\n</code></pre> <p>\u6309\u6307\u5b9a\u56e0\u5b50\u7f29\u653e\u4fe1\u53f7\u5e45\u5ea6\u3002</p> <p>\u5c06\u6240\u6709\u91c7\u6837\u503c\u4e58\u4ee5\u7f29\u653e\u56e0\u5b50\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>factor</code> <code>float</code> <p>\u7f29\u653e\u56e0\u5b50\uff0c\u9ed8\u8ba4\u4e3a 1.0\uff08\u4e0d\u7f29\u653e\uff09</p> <code>1.0</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u7f29\u653e\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def scale(self, factor: float = 1.0) -&gt; \"DASFrame\":\n    \"\"\"\u6309\u6307\u5b9a\u56e0\u5b50\u7f29\u653e\u4fe1\u53f7\u5e45\u5ea6\u3002\n\n    \u5c06\u6240\u6709\u91c7\u6837\u503c\u4e58\u4ee5\u7f29\u653e\u56e0\u5b50\u3002\n\n    Args:\n        factor: \u7f29\u653e\u56e0\u5b50\uff0c\u9ed8\u8ba4\u4e3a 1.0\uff08\u4e0d\u7f29\u653e\uff09\n\n    Returns:\n        DASFrame: \u7f29\u653e\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b\n    \"\"\"\n    return self._apply_signal_op(\"scale\", factor=factor)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.normalize","title":"normalize","text":"<pre><code>normalize(method: str = 'minmax') -&gt; DASFrame\n</code></pre> <p>\u5f52\u4e00\u5316\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>method</code> <code>str</code> <p>\u5f52\u4e00\u5316\u65b9\u6cd5 - 'minmax': \u5f52\u4e00\u5316\u5230 [-1, 1] - 'zscore': Z-score \u6807\u51c6\u5316 (mean=0, std=1)</p> <code>'minmax'</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u5f52\u4e00\u5316\u540e\u7684\u65b0 DASFrame</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def normalize(self, method: str = \"minmax\") -&gt; \"DASFrame\":\n    \"\"\"\u5f52\u4e00\u5316\u3002\n\n    Args:\n        method: \u5f52\u4e00\u5316\u65b9\u6cd5\n            - 'minmax': \u5f52\u4e00\u5316\u5230 [-1, 1]\n            - 'zscore': Z-score \u6807\u51c6\u5316 (mean=0, std=1)\n\n    Returns:\n        DASFrame: \u5f52\u4e00\u5316\u540e\u7684\u65b0 DASFrame\n    \"\"\"\n    return self._apply_signal_op(\"normalize\", method=method)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.bandpass","title":"bandpass","text":"<pre><code>bandpass(low: float, high: float, order: int = 4, fs: Optional[float] = None, design: str = 'butter') -&gt; DASFrame\n</code></pre> <p>\u5e26\u901a\u6ee4\u6ce2\u5668\uff0c\u4fdd\u7559\u6307\u5b9a\u9891\u7387\u8303\u56f4\u5185\u7684\u6210\u5206\u3002</p> <p>\u4f7f\u7528 Butterworth \u6ee4\u6ce2\u5668\u8bbe\u8ba1\uff0c\u901a\u8fc7 SciPy \u7684\u96f6\u76f8\u4f4d\u6ee4\u6ce2\uff08filtfilt\uff09\u5b9e\u73b0\uff0c \u907f\u514d\u76f8\u4f4d\u5931\u771f\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>low</code> <code>float</code> <p>\u4f4e\u622a\u6b62\u9891\u7387 (Hz)</p> \u5fc5\u9700 <code>high</code> <code>float</code> <p>\u9ad8\u622a\u6b62\u9891\u7387 (Hz)</p> \u5fc5\u9700 <code>order</code> <code>int</code> <p>\u6ee4\u6ce2\u5668\u9636\u6570\uff0c\u9ed8\u8ba4\u4e3a 4</p> <code>4</code> <code>fs</code> <code>Optional[float]</code> <p>\u91c7\u6837\u9891\u7387 (Hz)\uff0c\u9ed8\u8ba4\u4f7f\u7528\u521d\u59cb\u5316\u65f6\u7684\u91c7\u6837\u9891\u7387</p> <code>None</code> <code>design</code> <code>str</code> <p>\u6ee4\u6ce2\u5668\u8bbe\u8ba1\u7c7b\u578b\uff0c\u76ee\u524d\u4ec5\u652f\u6301 'butter'</p> <code>'butter'</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u6ee4\u6ce2\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b</p> <p>\u5f15\u53d1\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>ValueError</code> <p>\u5f53 low &gt;= high \u6216\u9891\u7387\u8d85\u8fc7\u5948\u594e\u65af\u7279\u9891\u7387\u65f6</p> Example <p>filtered = df(data, fs=1000).bandpass(1, 100)</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def bandpass(\n    self,\n    low: float,\n    high: float,\n    order: int = 4,\n    fs: Optional[float] = None,\n    design: str = \"butter\",\n) -&gt; \"DASFrame\":\n    \"\"\"\u5e26\u901a\u6ee4\u6ce2\u5668\uff0c\u4fdd\u7559\u6307\u5b9a\u9891\u7387\u8303\u56f4\u5185\u7684\u6210\u5206\u3002\n\n    \u4f7f\u7528 Butterworth \u6ee4\u6ce2\u5668\u8bbe\u8ba1\uff0c\u901a\u8fc7 SciPy \u7684\u96f6\u76f8\u4f4d\u6ee4\u6ce2\uff08filtfilt\uff09\u5b9e\u73b0\uff0c\n    \u907f\u514d\u76f8\u4f4d\u5931\u771f\u3002\n\n    Args:\n        low: \u4f4e\u622a\u6b62\u9891\u7387 (Hz)\n        high: \u9ad8\u622a\u6b62\u9891\u7387 (Hz)\n        order: \u6ee4\u6ce2\u5668\u9636\u6570\uff0c\u9ed8\u8ba4\u4e3a 4\n        fs: \u91c7\u6837\u9891\u7387 (Hz)\uff0c\u9ed8\u8ba4\u4f7f\u7528\u521d\u59cb\u5316\u65f6\u7684\u91c7\u6837\u9891\u7387\n        design: \u6ee4\u6ce2\u5668\u8bbe\u8ba1\u7c7b\u578b\uff0c\u76ee\u524d\u4ec5\u652f\u6301 'butter'\n\n    Returns:\n        DASFrame: \u6ee4\u6ce2\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b\n\n    Raises:\n        ValueError: \u5f53 low &gt;= high \u6216\u9891\u7387\u8d85\u8fc7\u5948\u594e\u65af\u7279\u9891\u7387\u65f6\n\n    Example:\n        &gt;&gt;&gt; filtered = df(data, fs=1000).bandpass(1, 100)\n    \"\"\"\n    return self._apply_signal_op(\n        \"bandpass\", low=low, high=high, order=order, fs=fs or self._fs\n    )\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.lowpass","title":"lowpass","text":"<pre><code>lowpass(cutoff: float, order: int = 4) -&gt; DASFrame\n</code></pre> <p>\u4f4e\u901a\u6ee4\u6ce2\u5668\uff0c\u79fb\u9664\u9ad8\u4e8e\u622a\u6b62\u9891\u7387\u7684\u6210\u5206\u3002</p> <p>\u4f7f\u7528 Butterworth \u6ee4\u6ce2\u5668\u8bbe\u8ba1\uff0c\u901a\u8fc7\u96f6\u76f8\u4f4d\u6ee4\u6ce2\u5b9e\u73b0\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>cutoff</code> <code>float</code> <p>\u622a\u6b62\u9891\u7387 (Hz)</p> \u5fc5\u9700 <code>order</code> <code>int</code> <p>\u6ee4\u6ce2\u5668\u9636\u6570\uff0c\u9ed8\u8ba4\u4e3a 4</p> <code>4</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u6ee4\u6ce2\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def lowpass(self, cutoff: float, order: int = 4) -&gt; \"DASFrame\":\n    \"\"\"\u4f4e\u901a\u6ee4\u6ce2\u5668\uff0c\u79fb\u9664\u9ad8\u4e8e\u622a\u6b62\u9891\u7387\u7684\u6210\u5206\u3002\n\n    \u4f7f\u7528 Butterworth \u6ee4\u6ce2\u5668\u8bbe\u8ba1\uff0c\u901a\u8fc7\u96f6\u76f8\u4f4d\u6ee4\u6ce2\u5b9e\u73b0\u3002\n\n    Args:\n        cutoff: \u622a\u6b62\u9891\u7387 (Hz)\n        order: \u6ee4\u6ce2\u5668\u9636\u6570\uff0c\u9ed8\u8ba4\u4e3a 4\n\n    Returns:\n        DASFrame: \u6ee4\u6ce2\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b\n    \"\"\"\n    return self._apply_signal_op(\"lowpass\", cutoff=cutoff, order=order, fs=self._fs)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.highpass","title":"highpass","text":"<pre><code>highpass(cutoff: float, order: int = 4) -&gt; DASFrame\n</code></pre> <p>\u9ad8\u901a\u6ee4\u6ce2\u5668\uff0c\u79fb\u9664\u4f4e\u4e8e\u622a\u6b62\u9891\u7387\u7684\u6210\u5206\u3002</p> <p>\u4f7f\u7528 Butterworth \u6ee4\u6ce2\u5668\u8bbe\u8ba1\uff0c\u901a\u8fc7\u96f6\u76f8\u4f4d\u6ee4\u6ce2\u5b9e\u73b0\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>cutoff</code> <code>float</code> <p>\u622a\u6b62\u9891\u7387 (Hz)</p> \u5fc5\u9700 <code>order</code> <code>int</code> <p>\u6ee4\u6ce2\u5668\u9636\u6570\uff0c\u9ed8\u8ba4\u4e3a 4</p> <code>4</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u6ee4\u6ce2\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def highpass(self, cutoff: float, order: int = 4) -&gt; \"DASFrame\":\n    \"\"\"\u9ad8\u901a\u6ee4\u6ce2\u5668\uff0c\u79fb\u9664\u4f4e\u4e8e\u622a\u6b62\u9891\u7387\u7684\u6210\u5206\u3002\n\n    \u4f7f\u7528 Butterworth \u6ee4\u6ce2\u5668\u8bbe\u8ba1\uff0c\u901a\u8fc7\u96f6\u76f8\u4f4d\u6ee4\u6ce2\u5b9e\u73b0\u3002\n\n    Args:\n        cutoff: \u622a\u6b62\u9891\u7387 (Hz)\n        order: \u6ee4\u6ce2\u5668\u9636\u6570\uff0c\u9ed8\u8ba4\u4e3a 4\n\n    Returns:\n        DASFrame: \u6ee4\u6ce2\u540e\u7684\u65b0 DASFrame \u5b9e\u4f8b\n    \"\"\"\n    return self._apply_signal_op(\n        \"highpass\", cutoff=cutoff, order=order, fs=self._fs\n    )\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.notch","title":"notch","text":"<pre><code>notch(freq: float, Q: float = 30) -&gt; DASFrame\n</code></pre> <p>\u9677\u6ce2\u6ee4\u6ce2\u5668\uff0c\u79fb\u9664\u7279\u5b9a\u9891\u7387\u6210\u5206\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>freq</code> <code>float</code> <p>\u9700\u8981\u79fb\u9664\u7684\u9891\u7387 (Hz)</p> \u5fc5\u9700 <code>Q</code> <code>float</code> <p>\u54c1\u8d28\u56e0\u6570\uff0c\u8d8a\u5927\u5e26\u5bbd\u8d8a\u7a84</p> <code>30</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u6ee4\u6ce2\u540e\u7684\u65b0 DASFrame</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def notch(self, freq: float, Q: float = 30) -&gt; \"DASFrame\":\n    \"\"\"\u9677\u6ce2\u6ee4\u6ce2\u5668\uff0c\u79fb\u9664\u7279\u5b9a\u9891\u7387\u6210\u5206\u3002\n\n    Args:\n        freq: \u9700\u8981\u79fb\u9664\u7684\u9891\u7387 (Hz)\n        Q: \u54c1\u8d28\u56e0\u6570\uff0c\u8d8a\u5927\u5e26\u5bbd\u8d8a\u7a84\n\n    Returns:\n        DASFrame: \u6ee4\u6ce2\u540e\u7684\u65b0 DASFrame\n    \"\"\"\n    return self._apply_signal_op(\"notch\", freq=freq, Q=Q, fs=self._fs)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.median_filter","title":"median_filter","text":"<pre><code>median_filter(k: int = 5, axis: str = 'time') -&gt; DASFrame\n</code></pre> <p>\u4e2d\u503c\u6ee4\u6ce2\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>k</code> <code>int</code> <p>\u6ee4\u6ce2\u7a97\u53e3\u5927\u5c0f</p> <code>5</code> <code>axis</code> <code>str</code> <p>\u6ee4\u6ce2\u8f74\uff0c'time' \u6216 'channel'</p> <code>'time'</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u6ee4\u6ce2\u540e\u7684\u65b0 DASFrame</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def median_filter(self, k: int = 5, axis: str = \"time\") -&gt; \"DASFrame\":\n    \"\"\"\u4e2d\u503c\u6ee4\u6ce2\u3002\n\n    Args:\n        k: \u6ee4\u6ce2\u7a97\u53e3\u5927\u5c0f\n        axis: \u6ee4\u6ce2\u8f74\uff0c'time' \u6216 'channel'\n\n    Returns:\n        DASFrame: \u6ee4\u6ce2\u540e\u7684\u65b0 DASFrame\n    \"\"\"\n    return self._apply_signal_op(\"median_filter\", k=k, axis=axis)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.fft","title":"fft","text":"<pre><code>fft() -&gt; DASFrame\n</code></pre> <p>\u5feb\u901f\u5085\u7acb\u53f6\u53d8\u6362\uff0c\u8ba1\u7b97\u9891\u8c31\u5e45\u5ea6\u3002</p> <p>\u5bf9\u6bcf\u4e2a\u901a\u9053\u6cbf\u65f6\u95f4\u8f74\u8fdb\u884c FFT\uff0c\u8fd4\u56de\u9891\u8c31\u5e45\u5ea6\uff08\u7edd\u5bf9\u503c\uff09\u3002</p> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u5305\u542b\u9891\u8c31\u5e45\u5ea6\u7684\u65b0 DASFrame \u5b9e\u4f8b</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def fft(self) -&gt; \"DASFrame\":\n    \"\"\"\u5feb\u901f\u5085\u7acb\u53f6\u53d8\u6362\uff0c\u8ba1\u7b97\u9891\u8c31\u5e45\u5ea6\u3002\n\n    \u5bf9\u6bcf\u4e2a\u901a\u9053\u6cbf\u65f6\u95f4\u8f74\u8fdb\u884c FFT\uff0c\u8fd4\u56de\u9891\u8c31\u5e45\u5ea6\uff08\u7edd\u5bf9\u503c\uff09\u3002\n\n    Returns:\n        DASFrame: \u5305\u542b\u9891\u8c31\u5e45\u5ea6\u7684\u65b0 DASFrame \u5b9e\u4f8b\n    \"\"\"\n    return self._apply_signal_op(\"fft\")\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.stft","title":"stft","text":"<pre><code>stft(nperseg: int = 256, noverlap: Optional[int] = None) -&gt; DASFrame\n</code></pre> <p>\u77ed\u65f6\u5085\u7acb\u53f6\u53d8\u6362\uff0c\u8fdb\u884c\u65f6\u9891\u5206\u6790\u3002</p> <p>\u5c06\u4fe1\u53f7\u5206\u5272\u6210\u91cd\u53e0\u7684\u7a97\u53e3\u5e76\u5bf9\u6bcf\u4e2a\u7a97\u53e3\u8fdb\u884c FFT\uff0c\u83b7\u5f97\u65f6\u9891\u8c31\u8868\u793a\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>nperseg</code> <code>int</code> <p>\u6bcf\u4e2a\u7a97\u53e3\u7684\u91c7\u6837\u70b9\u6570\uff0c\u9ed8\u8ba4\u4e3a 256</p> <code>256</code> <code>noverlap</code> <code>Optional[int]</code> <p>\u7a97\u53e3\u91cd\u53e0\u70b9\u6570\uff0c\u9ed8\u8ba4\u4e3a nperseg // 2</p> <code>None</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u5305\u542b\u65f6\u9891\u8c31\u7684\u65b0 DASFrame \u5b9e\u4f8b</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def stft(self, nperseg: int = 256, noverlap: Optional[int] = None) -&gt; \"DASFrame\":\n    \"\"\"\u77ed\u65f6\u5085\u7acb\u53f6\u53d8\u6362\uff0c\u8fdb\u884c\u65f6\u9891\u5206\u6790\u3002\n\n    \u5c06\u4fe1\u53f7\u5206\u5272\u6210\u91cd\u53e0\u7684\u7a97\u53e3\u5e76\u5bf9\u6bcf\u4e2a\u7a97\u53e3\u8fdb\u884c FFT\uff0c\u83b7\u5f97\u65f6\u9891\u8c31\u8868\u793a\u3002\n\n    Args:\n        nperseg: \u6bcf\u4e2a\u7a97\u53e3\u7684\u91c7\u6837\u70b9\u6570\uff0c\u9ed8\u8ba4\u4e3a 256\n        noverlap: \u7a97\u53e3\u91cd\u53e0\u70b9\u6570\uff0c\u9ed8\u8ba4\u4e3a nperseg // 2\n\n    Returns:\n        DASFrame: \u5305\u542b\u65f6\u9891\u8c31\u7684\u65b0 DASFrame \u5b9e\u4f8b\n    \"\"\"\n    if noverlap is None:\n        noverlap = nperseg // 2\n    return self._apply_signal_op(\n        \"stft\", nperseg=nperseg, noverlap=noverlap, fs=self._fs\n    )\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.hilbert","title":"hilbert","text":"<pre><code>hilbert() -&gt; DASFrame\n</code></pre> <p>\u5e0c\u5c14\u4f2f\u7279\u53d8\u6362\uff0c\u8fd4\u56de\u89e3\u6790\u4fe1\u53f7\u3002</p> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u5305\u542b\u590d\u6570\u89e3\u6790\u4fe1\u53f7\u7684\u65b0 DASFrame</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def hilbert(self) -&gt; \"DASFrame\":\n    \"\"\"\u5e0c\u5c14\u4f2f\u7279\u53d8\u6362\uff0c\u8fd4\u56de\u89e3\u6790\u4fe1\u53f7\u3002\n\n    Returns:\n        DASFrame: \u5305\u542b\u590d\u6570\u89e3\u6790\u4fe1\u53f7\u7684\u65b0 DASFrame\n    \"\"\"\n    return self._apply_signal_op(\"hilbert\")\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.envelope","title":"envelope","text":"<pre><code>envelope() -&gt; DASFrame\n</code></pre> <p>\u63d0\u53d6\u4fe1\u53f7\u5305\u7edc\u3002</p> <p>\u901a\u8fc7\u5e0c\u5c14\u4f2f\u7279\u53d8\u6362\u8ba1\u7b97\u89e3\u6790\u4fe1\u53f7\uff0c\u5e76\u53d6\u5176\u7edd\u5bf9\u503c\u4f5c\u4e3a\u5305\u7edc\u3002 \u5305\u7edc\u8868\u793a\u4fe1\u53f7\u7684\u77ac\u65f6\u5e45\u5ea6\u53d8\u5316\u3002</p> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>DASFrame</code> <code>DASFrame</code> <p>\u5305\u542b\u5305\u7edc\u7684\u65b0 DASFrame \u5b9e\u4f8b</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def envelope(self) -&gt; \"DASFrame\":\n    \"\"\"\u63d0\u53d6\u4fe1\u53f7\u5305\u7edc\u3002\n\n    \u901a\u8fc7\u5e0c\u5c14\u4f2f\u7279\u53d8\u6362\u8ba1\u7b97\u89e3\u6790\u4fe1\u53f7\uff0c\u5e76\u53d6\u5176\u7edd\u5bf9\u503c\u4f5c\u4e3a\u5305\u7edc\u3002\n    \u5305\u7edc\u8868\u793a\u4fe1\u53f7\u7684\u77ac\u65f6\u5e45\u5ea6\u53d8\u5316\u3002\n\n    Returns:\n        DASFrame: \u5305\u542b\u5305\u7edc\u7684\u65b0 DASFrame \u5b9e\u4f8b\n    \"\"\"\n    return self._apply_signal_op(\"envelope\")\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.mean","title":"mean","text":"<pre><code>mean(axis: Optional[int] = 0) -&gt; np.ndarray\n</code></pre> <p>\u8ba1\u7b97\u5747\u503c\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>axis</code> <code>Optional[int]</code> <p>\u8ba1\u7b97\u8f74\uff0c0 \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\u8fd4\u56de\u6bcf\u901a\u9053\u7684\u5747\u503c\uff0cNone \u8fd4\u56de\u5168\u5c40\u6807\u91cf</p> <code>0</code> <p>\u8fd4\u56de\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>ndarray</code> <p>np.ndarray: \u5747\u503c\u7ed3\u679c</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def mean(self, axis: Optional[int] = 0) -&gt; np.ndarray:\n    \"\"\"\u8ba1\u7b97\u5747\u503c\u3002\n\n    Args:\n        axis: \u8ba1\u7b97\u8f74\uff0c0 \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\u8fd4\u56de\u6bcf\u901a\u9053\u7684\u5747\u503c\uff0cNone \u8fd4\u56de\u5168\u5c40\u6807\u91cf\n\n    Returns:\n        np.ndarray: \u5747\u503c\u7ed3\u679c\n    \"\"\"\n    data = self.collect()\n    return np.mean(data, axis=axis)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.std","title":"std","text":"<pre><code>std(axis: Optional[int] = 0) -&gt; np.ndarray\n</code></pre> <p>\u8ba1\u7b97\u6807\u51c6\u5dee\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>axis</code> <code>Optional[int]</code> <p>\u8ba1\u7b97\u8f74\uff0c0 \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\u8fd4\u56de\u6bcf\u901a\u9053\u7684\u6807\u51c6\u5dee\uff0cNone \u8fd4\u56de\u5168\u5c40\u6807\u91cf</p> <code>0</code> <p>\u8fd4\u56de\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>ndarray</code> <p>np.ndarray: \u6807\u51c6\u5dee\u7ed3\u679c</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def std(self, axis: Optional[int] = 0) -&gt; np.ndarray:\n    \"\"\"\u8ba1\u7b97\u6807\u51c6\u5dee\u3002\n\n    Args:\n        axis: \u8ba1\u7b97\u8f74\uff0c0 \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\u8fd4\u56de\u6bcf\u901a\u9053\u7684\u6807\u51c6\u5dee\uff0cNone \u8fd4\u56de\u5168\u5c40\u6807\u91cf\n\n    Returns:\n        np.ndarray: \u6807\u51c6\u5dee\u7ed3\u679c\n    \"\"\"\n    data = self.collect()\n    return np.std(data, axis=axis)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.max","title":"max","text":"<pre><code>max(axis: Optional[int] = 0) -&gt; np.ndarray\n</code></pre> <p>\u8ba1\u7b97\u6700\u5927\u503c\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>axis</code> <code>Optional[int]</code> <p>\u8ba1\u7b97\u8f74\uff0c0 \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\u8fd4\u56de\u6bcf\u901a\u9053\u7684\u6700\u5927\u503c\uff0cNone \u8fd4\u56de\u5168\u5c40\u6807\u91cf</p> <code>0</code> <p>\u8fd4\u56de\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>ndarray</code> <p>np.ndarray: \u6700\u5927\u503c\u7ed3\u679c</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def max(self, axis: Optional[int] = 0) -&gt; np.ndarray:\n    \"\"\"\u8ba1\u7b97\u6700\u5927\u503c\u3002\n\n    Args:\n        axis: \u8ba1\u7b97\u8f74\uff0c0 \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\u8fd4\u56de\u6bcf\u901a\u9053\u7684\u6700\u5927\u503c\uff0cNone \u8fd4\u56de\u5168\u5c40\u6807\u91cf\n\n    Returns:\n        np.ndarray: \u6700\u5927\u503c\u7ed3\u679c\n    \"\"\"\n    data = self.collect()\n    return np.max(data, axis=axis)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.min","title":"min","text":"<pre><code>min(axis: Optional[int] = 0) -&gt; np.ndarray\n</code></pre> <p>\u8ba1\u7b97\u6700\u5c0f\u503c\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>axis</code> <code>Optional[int]</code> <p>\u8ba1\u7b97\u8f74\uff0c0 \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\u8fd4\u56de\u6bcf\u901a\u9053\u7684\u6700\u5c0f\u503c\uff0cNone \u8fd4\u56de\u5168\u5c40\u6807\u91cf</p> <code>0</code> <p>\u8fd4\u56de\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>ndarray</code> <p>np.ndarray: \u6700\u5c0f\u503c\u7ed3\u679c</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def min(self, axis: Optional[int] = 0) -&gt; np.ndarray:\n    \"\"\"\u8ba1\u7b97\u6700\u5c0f\u503c\u3002\n\n    Args:\n        axis: \u8ba1\u7b97\u8f74\uff0c0 \u8868\u793a\u6cbf\u65f6\u95f4\u8f74\u8fd4\u56de\u6bcf\u901a\u9053\u7684\u6700\u5c0f\u503c\uff0cNone \u8fd4\u56de\u5168\u5c40\u6807\u91cf\n\n    Returns:\n        np.ndarray: \u6700\u5c0f\u503c\u7ed3\u679c\n    \"\"\"\n    data = self.collect()\n    return np.min(data, axis=axis)\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.rms","title":"rms","text":"<pre><code>rms(window: Optional[int] = None) -&gt; np.ndarray\n</code></pre> <p>\u8ba1\u7b97 RMS\uff08\u5747\u65b9\u6839\uff09\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>window</code> <code>Optional[int]</code> <p>\u6ed1\u52a8\u7a97\u53e3\u5927\u5c0f\uff0c\u9ed8\u8ba4\u4e3a None \u8868\u793a\u8ba1\u7b97\u5168\u5c40 RMS</p> <code>None</code> <p>\u8fd4\u56de\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>ndarray</code> <p>np.ndarray: RMS \u7ed3\u679c\uff0c\u5982\u6307\u5b9a window \u5219\u8fd4\u56de\u6ed1\u52a8 RMS</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def rms(self, window: Optional[int] = None) -&gt; np.ndarray:\n    \"\"\"\u8ba1\u7b97 RMS\uff08\u5747\u65b9\u6839\uff09\u3002\n\n    Args:\n        window: \u6ed1\u52a8\u7a97\u53e3\u5927\u5c0f\uff0c\u9ed8\u8ba4\u4e3a None \u8868\u793a\u8ba1\u7b97\u5168\u5c40 RMS\n\n    Returns:\n        np.ndarray: RMS \u7ed3\u679c\uff0c\u5982\u6307\u5b9a window \u5219\u8fd4\u56de\u6ed1\u52a8 RMS\n    \"\"\"\n    data = self.collect()\n    if window is None:\n        return np.sqrt(np.mean(data**2, axis=0))\n    else:\n        from scipy.ndimage import uniform_filter1d\n        return np.sqrt(uniform_filter1d(data**2, size=window, axis=0))\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.threshold_detect","title":"threshold_detect","text":"<pre><code>threshold_detect(threshold: Optional[float] = None, sigma: float = 3.0) -&gt; np.ndarray\n</code></pre> <p>\u9608\u503c\u68c0\u6d4b\uff0c\u68c0\u6d4b\u8d85\u8fc7\u9608\u503c\u7684\u91c7\u6837\u70b9\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>threshold</code> <code>Optional[float]</code> <p>\u81ea\u5b9a\u4e49\u9608\u503c\uff0c\u9ed8\u8ba4\u4e3a None \u8868\u793a\u4f7f\u7528 mean + sigma * std</p> <code>None</code> <code>sigma</code> <code>float</code> <p>\u6807\u51c6\u5dee\u500d\u6570\uff0c\u7528\u4e8e\u81ea\u52a8\u8ba1\u7b97\u9608\u503c</p> <code>3.0</code> <p>\u8fd4\u56de\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>ndarray</code> <p>np.ndarray: \u5e03\u5c14\u77e9\u9635\uff0cTrue \u8868\u793a\u8be5\u70b9\u8d85\u8fc7\u9608\u503c</p> Example <p>detections = df(data, fs=1000).threshold_detect(sigma=3.0)</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def threshold_detect(\n    self, threshold: Optional[float] = None, sigma: float = 3.0\n) -&gt; np.ndarray:\n    \"\"\"\u9608\u503c\u68c0\u6d4b\uff0c\u68c0\u6d4b\u8d85\u8fc7\u9608\u503c\u7684\u91c7\u6837\u70b9\u3002\n\n    Args:\n        threshold: \u81ea\u5b9a\u4e49\u9608\u503c\uff0c\u9ed8\u8ba4\u4e3a None \u8868\u793a\u4f7f\u7528 mean + sigma * std\n        sigma: \u6807\u51c6\u5dee\u500d\u6570\uff0c\u7528\u4e8e\u81ea\u52a8\u8ba1\u7b97\u9608\u503c\n\n    Returns:\n        np.ndarray: \u5e03\u5c14\u77e9\u9635\uff0cTrue \u8868\u793a\u8be5\u70b9\u8d85\u8fc7\u9608\u503c\n\n    Example:\n        &gt;&gt;&gt; detections = df(data, fs=1000).threshold_detect(sigma=3.0)\n    \"\"\"\n    data = self.collect()\n    if threshold is None:\n        threshold = np.mean(data) + sigma * np.std(data)\n    return np.abs(data) &gt; threshold\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.plot_ts","title":"plot_ts","text":"<pre><code>plot_ts(ch: Optional[int] = None, title: str = 'Time Series', ax: Optional[Axes] = None, **kwargs) -&gt; plt.Figure\n</code></pre> <p>\u7ed8\u5236\u65f6\u95f4\u5e8f\u5217\u3002</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def plot_ts(\n    self,\n    ch: Optional[int] = None,\n    title: str = \"Time Series\",\n    ax: Optional[plt.Axes] = None,\n    **kwargs,\n) -&gt; plt.Figure:\n    \"\"\"\u7ed8\u5236\u65f6\u95f4\u5e8f\u5217\u3002\"\"\"\n    data = self.collect()\n\n    if ax is None:\n        fig, ax = plt.subplots(figsize=(10, 4))\n    else:\n        if ax.figure is None:\n            raise ValueError(\"Provided ax must belong to a figure\")\n        fig = cast(plt.Figure, ax.figure)\n\n    t = np.arange(data.shape[0]) / self._fs\n    if ch is None:\n        ax.plot(t, data[:, : min(5, data.shape[1])], alpha=0.7)\n    else:\n        ax.plot(t, data[:, ch])\n\n    ax.set_xlabel(\"Time (s)\")\n    ax.set_ylabel(\"Amplitude\")\n    ax.set_title(title)\n    ax.grid(True, alpha=0.3)\n    return fig\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.plot_heatmap","title":"plot_heatmap","text":"<pre><code>plot_heatmap(title: str = 'DAS Waterfall', cmap: str = 'RdBu_r', ax: Optional[Axes] = None, **kwargs) -&gt; plt.Figure\n</code></pre> <p>\u7ed8\u5236\u70ed\u56fe\uff08\u7011\u5e03\u56fe\uff09\u3002</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def plot_heatmap(\n    self,\n    title: str = \"DAS Waterfall\",\n    cmap: str = \"RdBu_r\",\n    ax: Optional[plt.Axes] = None,\n    **kwargs,\n) -&gt; plt.Figure:\n    \"\"\"\u7ed8\u5236\u70ed\u56fe\uff08\u7011\u5e03\u56fe\uff09\u3002\"\"\"\n    data = self.collect()\n\n    if ax is None:\n        fig, ax = plt.subplots(figsize=(10, 6))\n    else:\n        if ax.figure is None:\n            raise ValueError(\"Provided ax must belong to a figure\")\n        fig = cast(plt.Figure, ax.figure)\n\n    extent = (0, float(data.shape[1]), float(data.shape[0] / self._fs), 0)\n    vmax = np.percentile(np.abs(data), 98)\n    im = ax.imshow(\n        data,\n        aspect=\"auto\",\n        cmap=cmap,\n        extent=extent,\n        vmin=-vmax,\n        vmax=vmax,\n        **kwargs,\n    )\n\n    ax.set_xlabel(\"Channel\")\n    ax.set_ylabel(\"Time (s)\")\n    ax.set_title(title)\n    # \u4ec5\u5f53\u521b\u5efa\u65b0 figure \u65f6\u6dfb\u52a0 colorbar\uff0c\u6216\u8005\u662f\u663e\u5f0f\u8981\u6c42\n    # \u7b80\u5355\u8d77\u89c1\uff0c\u8fd9\u91cc\u603b\u662f\u5c1d\u8bd5\u6dfb\u52a0\uff0c\u4f46\u9700\u8981\u6ce8\u610f layout\n    if ax is not None:\n        plt.colorbar(im, ax=ax, label=\"Amplitude\")\n    else:\n        plt.colorbar(im, ax=ax, label=\"Amplitude\")\n    return fig\n</code></pre>"},{"location":"api/dasframe/#DASMatrix.api.DASFrame.plot_spec","title":"plot_spec","text":"<pre><code>plot_spec(ch: int = 0, nperseg: int = 256, title: str = 'Spectrogram', ax: Optional[Axes] = None, **kwargs) -&gt; plt.Figure\n</code></pre> <p>\u7ed8\u5236\u9891\u8c31\u56fe\u3002</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/api/dasframe.py</code> <pre><code>def plot_spec(\n    self,\n    ch: int = 0,\n    nperseg: int = 256,\n    title: str = \"Spectrogram\",\n    ax: Optional[plt.Axes] = None,\n    **kwargs,\n) -&gt; plt.Figure:\n    \"\"\"\u7ed8\u5236\u9891\u8c31\u56fe\u3002\"\"\"\n    data = self.collect()\n\n    if ax is None:\n        fig, ax = plt.subplots(figsize=(10, 4))\n    else:\n        if ax.figure is None:\n            raise ValueError(\"Provided ax must belong to a figure\")\n        fig = cast(plt.Figure, ax.figure)\n\n    f, t, Sxx = signal.spectrogram(data[:, ch], fs=self._fs, nperseg=nperseg)\n\n    im = ax.pcolormesh(\n        t, f, 10 * np.log10(Sxx + 1e-10), shading=\"gouraud\", cmap=\"viridis\"\n    )\n    plt.colorbar(im, ax=ax, label=\"Power (dB)\")\n    ax.set_ylabel(\"Frequency (Hz)\")\n    ax.set_xlabel(\"Time (s)\")\n    ax.set_title(title)\n    return fig\n</code></pre>"},{"location":"api/processing/","title":"\u4fe1\u53f7\u5904\u7406","text":"<p>DASMatrix \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u4fe1\u53f7\u5904\u7406\u529f\u80fd\uff0c\u4e3b\u8981\u901a\u8fc7 <code>DASFrame</code> \u94fe\u5f0f API \u548c\u5e95\u5c42\u5f15\u64ce\u5b9e\u73b0\u3002</p>"},{"location":"api/processing/#_2","title":"\u5904\u7406\u5f15\u64ce","text":"<p>DASMatrix \u4f7f\u7528\u6df7\u5408\u6267\u884c\u5f15\u64ce\uff08HybridEngine\uff09\uff0c\u652f\u6301\uff1a</p> <ul> <li>NumPy/SciPy \u540e\u7aef - \u901a\u7528\u517c\u5bb9\u6027</li> <li>Numba JIT \u540e\u7aef - \u9ad8\u6027\u80fd\u6570\u503c\u8ba1\u7b97</li> <li>\u7b97\u5b50\u878d\u5408\u4f18\u5316 - \u51cf\u5c11\u5185\u5b58\u5f00\u9500</li> </ul>"},{"location":"api/processing/#api","title":"API \u53c2\u8003","text":""},{"location":"api/processing/#hybridengine","title":"HybridEngine","text":""},{"location":"api/processing/#DASMatrix.processing.engine.HybridEngine","title":"HybridEngine","text":"<pre><code>HybridEngine()\n</code></pre> <p>\u6df7\u5408\u6267\u884c\u5f15\u64ce\uff0c\u534f\u8c03\u4f18\u5316\u5668\u548c\u591a\u540e\u7aef\u6267\u884c\u3002</p> <p>HybridEngine \u662f DASFrame \u5ef6\u8fdf\u8ba1\u7b97\u7684\u6838\u5fc3\u7ec4\u4ef6\uff0c\u8d1f\u8d23\uff1a 1. \u8c03\u7528 ExecutionPlanner \u4f18\u5316\u8ba1\u7b97\u56fe 2. \u6839\u636e\u8282\u70b9\u7c7b\u578b\u8c03\u5ea6\u5408\u9002\u7684\u540e\u7aef 3. \u9012\u5f52\u6267\u884c\u8ba1\u7b97\u56fe\u5e76\u7f13\u5b58\u4e2d\u95f4\u7ed3\u679c</p> <p>\u5c5e\u6027\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>planner</code> <p>\u6267\u884c\u8ba1\u5212\u4f18\u5316\u5668</p> <code>numba_backend</code> <p>Numba JIT \u540e\u7aef</p> <p>\u521d\u59cb\u5316\u6df7\u5408\u6267\u884c\u5f15\u64ce\u3002</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/processing/engine.py</code> <pre><code>def __init__(self) -&gt; None:\n    \"\"\"\u521d\u59cb\u5316\u6df7\u5408\u6267\u884c\u5f15\u64ce\u3002\"\"\"\n    self.planner = ExecutionPlanner()\n    self.numba_backend = NumbaBackend()\n</code></pre>"},{"location":"api/processing/#DASMatrix.processing.engine.HybridEngine.compute","title":"compute","text":"<pre><code>compute(graph: ComputationGraph) -&gt; Any\n</code></pre> <p>\u6267\u884c\u8ba1\u7b97\u56fe\u5e76\u8fd4\u56de\u7ed3\u679c\u3002</p> <p>\u8fd9\u662f\u5f15\u64ce\u7684\u4e3b\u5165\u53e3\u70b9\uff0c\u8d1f\u8d23\u4f18\u5316\u548c\u6267\u884c\u6574\u4e2a\u8ba1\u7b97\u56fe\u3002</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>graph</code> <code>ComputationGraph</code> <p>\u8981\u6267\u884c\u7684\u8ba1\u7b97\u56fe</p> \u5fc5\u9700 <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>Any</code> <code>Any</code> <p>\u8ba1\u7b97\u56fe\u6839\u8282\u70b9\u7684\u8ba1\u7b97\u7ed3\u679c\uff08\u901a\u5e38\u4e3a NumPy \u6570\u7ec4\uff09</p> <p>\u5f15\u53d1\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>ValueError</code> <p>\u5f53\u8ba1\u7b97\u56fe\u4e3a\u7a7a\u65f6</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/processing/engine.py</code> <pre><code>def compute(self, graph: ComputationGraph) -&gt; Any:\n    \"\"\"\u6267\u884c\u8ba1\u7b97\u56fe\u5e76\u8fd4\u56de\u7ed3\u679c\u3002\n\n    \u8fd9\u662f\u5f15\u64ce\u7684\u4e3b\u5165\u53e3\u70b9\uff0c\u8d1f\u8d23\u4f18\u5316\u548c\u6267\u884c\u6574\u4e2a\u8ba1\u7b97\u56fe\u3002\n\n    Args:\n        graph: \u8981\u6267\u884c\u7684\u8ba1\u7b97\u56fe\n\n    Returns:\n        Any: \u8ba1\u7b97\u56fe\u6839\u8282\u70b9\u7684\u8ba1\u7b97\u7ed3\u679c\uff08\u901a\u5e38\u4e3a NumPy \u6570\u7ec4\uff09\n\n    Raises:\n        ValueError: \u5f53\u8ba1\u7b97\u56fe\u4e3a\u7a7a\u65f6\n    \"\"\"\n    opt_graph = self.planner.optimize(graph)\n\n    if not opt_graph.root:\n        raise ValueError(\"Empty computation graph\")\n\n    return self._execute_node(opt_graph.root)\n</code></pre>"},{"location":"api/reader/","title":"\u6570\u636e\u8bfb\u53d6","text":"<p>DASMatrix \u652f\u6301\u591a\u79cd DAS \u6570\u636e\u683c\u5f0f\u7684\u8bfb\u53d6\u3002</p>"},{"location":"api/reader/#_2","title":"\u652f\u6301\u7684\u683c\u5f0f","text":"<ul> <li>DAT - \u4e8c\u8fdb\u5236 DAT \u6587\u4ef6</li> <li>HDF5 - HDF5 \u683c\u5f0f\u6587\u4ef6</li> </ul>"},{"location":"api/reader/#_3","title":"\u5feb\u901f\u4f7f\u7528","text":"<pre><code>from DASMatrix.acquisition import DASReader, DataType\nfrom DASMatrix.config import SamplingConfig\n\n# \u914d\u7f6e\nconfig = SamplingConfig(fs=10000, channels=512)\n\n# DAT \u6587\u4ef6\u8bfb\u53d6\nreader = DASReader(config, data_type=DataType.DAT)\ndata = reader.ReadRawData(\"path/to/file.dat\")\n\n# HDF5 \u6587\u4ef6\u8bfb\u53d6\nreader = DASReader(config, data_type=DataType.H5)\ndata = reader.ReadRawData(\"path/to/file.h5\")\n</code></pre>"},{"location":"api/reader/#api","title":"API \u53c2\u8003","text":""},{"location":"api/reader/#dasreader","title":"DASReader","text":""},{"location":"api/reader/#DASMatrix.acquisition.DASReader","title":"DASReader","text":"<pre><code>DASReader(sampling_config: SamplingConfig, data_type: DataType = DataType.DAT)\n</code></pre> <p>\u6570\u636e\u8bfb\u53d6\u5668\u7c7b, \u7528\u4e8e\u8bfb\u53d6\u4e0d\u540c\u683c\u5f0f\u7684\u6570\u636e\u6587\u4ef6</p> <p>\u521d\u59cb\u5316\u6570\u636e\u8bfb\u53d6\u5668</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>sampling_config</code> <code>SamplingConfig</code> <p>\u91c7\u6837\u914d\u7f6e\u5bf9\u8c61</p> \u5fc5\u9700 <code>data_type</code> <code>DataType</code> <p>\u6570\u636e\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4e3aDAT\u683c\u5f0f</p> <code>DAT</code> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/acquisition/das_reader.py</code> <pre><code>def __init__(\n    self, sampling_config: SamplingConfig, data_type: DataType = DataType.DAT\n):\n    \"\"\"\u521d\u59cb\u5316\u6570\u636e\u8bfb\u53d6\u5668\n\n    Args:\n        sampling_config: \u91c7\u6837\u914d\u7f6e\u5bf9\u8c61\n        data_type: \u6570\u636e\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4e3aDAT\u683c\u5f0f\n    \"\"\"\n    self.sampling_config = sampling_config\n    self.reader: DataReader\n    self.data_type = data_type\n    self.logger = logging.getLogger(__name__)\n\n    # \u6839\u636e\u6570\u636e\u7c7b\u578b\u9009\u62e9\u5408\u9002\u7684\u8bfb\u53d6\u5668\n    if data_type == DataType.DAT:\n        self.reader = DATReader(sampling_config)\n    elif data_type == DataType.H5:\n        self.reader = H5Reader(sampling_config)\n    else:\n        raise ValueError(f\"\u4e0d\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b: {data_type}\")\n</code></pre>"},{"location":"api/reader/#DASMatrix.acquisition.DASReader.ReadRawData","title":"ReadRawData","text":"<pre><code>ReadRawData(file_path: Path, target_col: Optional[list] = None) -&gt; np.ndarray\n</code></pre> <p>\u8bfb\u53d6\u6307\u5b9a\u8def\u5f84\u7684\u6570\u636e\u6587\u4ef6</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>file_path</code> <code>Path</code> <p>\u6570\u636e\u6587\u4ef6\u8def\u5f84</p> \u5fc5\u9700 <code>target_col</code> <code>Optional[list]</code> <p>\u76ee\u6807\u5217\u7d22\u5f15\u5217\u8868</p> <code>None</code> <p>\u8fd4\u56de\uff1a</p> \u7c7b\u578b \u63cf\u8ff0 <code>ndarray</code> <p>np.ndarray: \u5305\u542b\u539f\u59cb\u6570\u636e\u7684 NumPy \u6570\u7ec4</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/acquisition/das_reader.py</code> <pre><code>def ReadRawData(\n    self, file_path: Path, target_col: Optional[list] = None\n) -&gt; np.ndarray:\n    \"\"\"\u8bfb\u53d6\u6307\u5b9a\u8def\u5f84\u7684\u6570\u636e\u6587\u4ef6\n\n    Args:\n        file_path: \u6570\u636e\u6587\u4ef6\u8def\u5f84\n        target_col: \u76ee\u6807\u5217\u7d22\u5f15\u5217\u8868\n\n    Returns:\n        np.ndarray: \u5305\u542b\u539f\u59cb\u6570\u636e\u7684 NumPy \u6570\u7ec4\n    \"\"\"\n    try:\n        # \u8bfb\u53d6\u539f\u59cb\u6570\u636e\n        raw_data = self.reader.ReadRawData(file_path, target_col)\n        return raw_data\n    except Exception as e:\n        self.logger.error(f\"\u8bfb\u53d6\u6570\u636e\u65f6\u53d1\u751f\u9519\u8bef: {e}\uff0c\u6587\u4ef6\u8def\u5f84: {file_path}\")\n        raise\n</code></pre>"},{"location":"api/reader/#datatype","title":"DataType","text":""},{"location":"api/reader/#DASMatrix.acquisition.DataType","title":"DataType","text":"<p>               Bases: <code>Enum</code></p> <p>\u6570\u636e\u7c7b\u578b\u679a\u4e3e\u7c7b</p>"},{"location":"api/reader/#samplingconfig","title":"SamplingConfig","text":""},{"location":"api/reader/#DASMatrix.config.SamplingConfig","title":"SamplingConfig  <code>dataclass</code>","text":"<pre><code>SamplingConfig(fs: float = 30000.0, channels: int = 100, byte_order: str = 'little', wn: float = 1.0)\n</code></pre> <p>\u91c7\u6837\u914d\u7f6e</p>"},{"location":"api/visualization/","title":"\u53ef\u89c6\u5316","text":"<p>DASMatrix \u63d0\u4f9b\u79d1\u5b66\u671f\u520a\u7ea7\u522b\u7684\u6570\u636e\u53ef\u89c6\u5316\u529f\u80fd\uff0c\u9075\u5faa Nature/Science \u51fa\u7248\u98ce\u683c\u3002</p>"},{"location":"api/visualization/#_2","title":"\u7279\u6027","text":"<ul> <li>\ud83c\udfa8 \u9ad8\u5bf9\u6bd4\u5ea6\u914d\u8272 - \u8272\u76f2\u53cb\u597d\u7684\u8c03\u8272\u677f</li> <li>\ud83d\udcd0 \u4e13\u4e1a\u6392\u7248 - Arial \u5b57\u4f53\uff0c\u6807\u51c6\u5316\u523b\u5ea6</li> <li>\ud83d\udcca \u591a\u79cd\u56fe\u8868\u7c7b\u578b - \u6ce2\u5f62\u56fe\u3001\u9891\u8c31\u56fe\u3001\u65f6\u9891\u56fe\u3001\u7011\u5e03\u56fe</li> </ul>"},{"location":"api/visualization/#_3","title":"\u5feb\u901f\u4f7f\u7528","text":"<pre><code>from DASMatrix.visualization import DASVisualizer\n\n# \u521b\u5efa\u53ef\u89c6\u5316\u5668\nviz = DASVisualizer(output_path=\"./output\", sampling_frequency=10000)\n\n# \u6ce2\u5f62\u56fe\nviz.WaveformPlot(data[:, 0], title=\"Waveform\")\n\n# \u9891\u8c31\u56fe\nviz.SpectrumPlot(data[:, 0], title=\"Spectrum\")\n\n# \u7011\u5e03\u56fe\nviz.WaterfallPlot(data, title=\"Waterfall\")\n</code></pre>"},{"location":"api/visualization/#api","title":"API \u53c2\u8003","text":""},{"location":"api/visualization/#plotbase","title":"PlotBase","text":""},{"location":"api/visualization/#DASMatrix.visualization.das_visualizer.PlotBase","title":"PlotBase","text":"<pre><code>PlotBase(config: Optional[VisualizationConfig] = None)\n</code></pre> <p>               Bases: <code>ABC</code></p> <p>\u7ed8\u56fe\u57fa\u7c7b</p> <p>\u521d\u59cb\u5316\u7ed8\u56fe\u57fa\u7c7b</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>config</code> <code>Optional[VisualizationConfig]</code> <p>\u53ef\u89c6\u5316\u914d\u7f6e\uff0c\u82e5\u672a\u6307\u5b9a\u5219\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e</p> <code>None</code> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/visualization/das_visualizer.py</code> <pre><code>def __init__(self, config: Optional[VisualizationConfig] = None):\n    \"\"\"\u521d\u59cb\u5316\u7ed8\u56fe\u57fa\u7c7b\n\n    Args:\n        config: \u53ef\u89c6\u5316\u914d\u7f6e\uff0c\u82e5\u672a\u6307\u5b9a\u5219\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\n    \"\"\"\n    self.config = config or VisualizationConfig()\n    self.logger = logging.getLogger(__name__)\n    self._setup_style()\n</code></pre>"},{"location":"api/visualization/#DASMatrix.visualization.das_visualizer.PlotBase.save_figure","title":"save_figure","text":"<pre><code>save_figure(file_path: Union[str, Path], close_after_save: bool = True) -&gt; None\n</code></pre> <p>\u4fdd\u5b58\u56fe\u5f62\u5230\u6307\u5b9a\u8def\u5f84</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>file_path</code> <code>Union[str, Path]</code> <p>\u56fe\u5f62\u4fdd\u5b58\u8def\u5f84</p> \u5fc5\u9700 <code>close_after_save</code> <code>bool</code> <p>\u4fdd\u5b58\u540e\u662f\u5426\u5173\u95ed\u56fe\u5f62</p> <code>True</code> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/visualization/das_visualizer.py</code> <pre><code>def save_figure(\n    self, file_path: Union[str, Path], close_after_save: bool = True\n) -&gt; None:\n    \"\"\"\u4fdd\u5b58\u56fe\u5f62\u5230\u6307\u5b9a\u8def\u5f84\n\n    Args:\n        file_path: \u56fe\u5f62\u4fdd\u5b58\u8def\u5f84\n        close_after_save: \u4fdd\u5b58\u540e\u662f\u5426\u5173\u95ed\u56fe\u5f62\n    \"\"\"\n    # \u5ef6\u8fdf\u5bfc\u5165 matplotlib\n    import matplotlib.pyplot as plt\n\n    try:\n        # \u786e\u4fdd\u76ee\u5f55\u5b58\u5728\n        if isinstance(file_path, str):\n            file_path = Path(file_path)\n\n        file_path.parent.mkdir(parents=True, exist_ok=True)\n\n        plt.savefig(\n            file_path,\n            bbox_inches=\"tight\",\n            dpi=self.config.dpi,\n        )\n        self.logger.debug(f\"Figure saved to {file_path}\")\n\n        if close_after_save:\n            plt.close()\n    except Exception as e:\n        self.logger.error(f\"Error saving figure: {e}\")\n        if close_after_save:\n            plt.close()\n</code></pre>"},{"location":"api/visualization/#spectrumplot","title":"SpectrumPlot","text":""},{"location":"api/visualization/#DASMatrix.visualization.das_visualizer.SpectrumPlot","title":"SpectrumPlot","text":"<pre><code>SpectrumPlot(config: Optional[VisualizationConfig] = None)\n</code></pre> <p>               Bases: <code>PlotBase</code></p> <p>\u9891\u8c31\u56fe (Spectrum Plot)</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/visualization/das_visualizer.py</code> <pre><code>def __init__(self, config: Optional[VisualizationConfig] = None):\n    \"\"\"\u521d\u59cb\u5316\u7ed8\u56fe\u57fa\u7c7b\n\n    Args:\n        config: \u53ef\u89c6\u5316\u914d\u7f6e\uff0c\u82e5\u672a\u6307\u5b9a\u5219\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\n    \"\"\"\n    self.config = config or VisualizationConfig()\n    self.logger = logging.getLogger(__name__)\n    self._setup_style()\n</code></pre>"},{"location":"api/visualization/#DASMatrix.visualization.das_visualizer.SpectrumPlot.plot","title":"plot","text":"<pre><code>plot(frequencies: ndarray, magnitudes: ndarray, channel_id: Optional[Union[int, str]] = None, excitation_freq: Optional[float] = None, title: Optional[str] = None, peaks: Optional[List[Dict[str, float]]] = None, db_range: Optional[Tuple[float, float]] = None) -&gt; Any\n</code></pre> <p>\u7ed8\u5236\u9891\u8c31\u56fe</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>frequencies</code> <code>ndarray</code> <p>\u9891\u7387\u6570\u7ec4 (Hz)</p> \u5fc5\u9700 <code>magnitudes</code> <code>ndarray</code> <p>\u9891\u8c31\u5e45\u503c\u6570\u7ec4 (\u901a\u5e38\u662f\u5bf9\u6570\u5c3a\u5ea6\uff0c\u5982 dB)</p> \u5fc5\u9700 <code>channel_id</code> <code>Optional[Union[int, str]]</code> <p>\u53ef\u9009\uff0c\u901a\u9053\u6807\u8bc6</p> <code>None</code> <code>excitation_freq</code> <code>Optional[float]</code> <p>(\u53ef\u9009) \u6fc0\u52b1\u9891\u7387\uff0c\u7528\u4e8e\u5728\u56fe\u4e0a\u6807\u8bb0 (Hz)</p> <code>None</code> <code>title</code> <code>Optional[str]</code> <p>\u81ea\u5b9a\u4e49\u6807\u9898 (\u82f1\u6587), \u82e5\u672a\u6307\u5b9a\u5219\u4f7f\u7528\u9ed8\u8ba4\u6807\u9898</p> <code>None</code> <code>peaks</code> <code>Optional[List[Dict[str, float]]]</code> <p>(\u53ef\u9009) \u5cf0\u503c\u5217\u8868\uff0c\u6bcf\u4e2a\u5cf0\u503c\u5305\u542b 'frequency' \u548c 'magnitude'</p> <code>None</code> <code>db_range</code> <code>Optional[Tuple[float, float]]</code> <p>\u53ef\u9009\uff0cdB\u503c\u663e\u793a\u8303\u56f4 (min_db, max_db)</p> <code>None</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>Figure</code> <code>Any</code> <p>matplotlib \u56fe\u5f62\u5bf9\u8c61</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/visualization/das_visualizer.py</code> <pre><code>def plot(\n    self,\n    frequencies: np.ndarray,\n    magnitudes: np.ndarray,\n    channel_id: Optional[Union[int, str]] = None,\n    excitation_freq: Optional[float] = None,\n    title: Optional[str] = None,\n    peaks: Optional[List[Dict[str, float]]] = None,\n    db_range: Optional[Tuple[float, float]] = None,\n) -&gt; Any:  # \u8fd4\u56de\u7c7b\u578b\u6539\u4e3a Any\n    \"\"\"\u7ed8\u5236\u9891\u8c31\u56fe\n\n    Args:\n        frequencies: \u9891\u7387\u6570\u7ec4 (Hz)\n        magnitudes: \u9891\u8c31\u5e45\u503c\u6570\u7ec4 (\u901a\u5e38\u662f\u5bf9\u6570\u5c3a\u5ea6\uff0c\u5982 dB)\n        channel_id: \u53ef\u9009\uff0c\u901a\u9053\u6807\u8bc6\n        excitation_freq: (\u53ef\u9009) \u6fc0\u52b1\u9891\u7387\uff0c\u7528\u4e8e\u5728\u56fe\u4e0a\u6807\u8bb0 (Hz)\n        title: \u81ea\u5b9a\u4e49\u6807\u9898 (\u82f1\u6587), \u82e5\u672a\u6307\u5b9a\u5219\u4f7f\u7528\u9ed8\u8ba4\u6807\u9898\n        peaks: (\u53ef\u9009) \u5cf0\u503c\u5217\u8868\uff0c\u6bcf\u4e2a\u5cf0\u503c\u5305\u542b 'frequency' \u548c 'magnitude'\n        db_range: \u53ef\u9009\uff0cdB\u503c\u663e\u793a\u8303\u56f4 (min_db, max_db)\n\n    Returns:\n        Figure: matplotlib \u56fe\u5f62\u5bf9\u8c61\n    \"\"\"\n    # \u5ef6\u8fdf\u5bfc\u5165 matplotlib\n    import matplotlib.pyplot as plt\n    import matplotlib.ticker as ticker\n\n    # \u6027\u80fd\u4f18\u5316\uff1a\u5982\u679c\u9891\u7387\u70b9\u6570\u8fc7\u591a\uff0c\u8fdb\u884c\u964d\u91c7\u6837\n    MAX_FREQ_POINTS = 10000\n    if len(frequencies) &gt; MAX_FREQ_POINTS:\n        step = len(frequencies) // MAX_FREQ_POINTS\n        frequencies = frequencies[::step]\n        magnitudes = magnitudes[::step]\n\n    # \u521b\u5efa\u56fe\u5f62\u548c\u5750\u6807\u8f74 - \u4f18\u5316\u521b\u5efa\u8fc7\u7a0b\n    fig, ax = plt.subplots(figsize=self.config.figsize_standard)\n\n    # \u6027\u80fd\u4f18\u5316\uff1a\u63d0\u524d\u8ba1\u7b97dB\u503c\uff0c\u907f\u514d\u91cd\u590d\u8ba1\u7b97\n    # \u5e45\u503c\u901a\u5e38\u4ee5 dB \u663e\u793a\n    magnitudes_db = 10 * np.log10(magnitudes + 1e-12)  # \u52a0\u4e00\u4e2a\u5c0f\u503c\u907f\u514d log(0)\n\n    # \u7ed8\u5236\u9891\u8c31 - \u4f7f\u7528\u66f4\u9ad8\u6027\u80fd\u7684\u7ed8\u56fe\u8bbe\u7f6e\n    ax.plot(\n        frequencies,\n        magnitudes_db,\n        linewidth=1.0,  # \u51cf\u5c0f\u7ebf\u5bbd\u4ee5\u52a0\u5feb\u6e32\u67d3\n        color=\"#0072B2\",\n        alpha=1.0,\n        zorder=5,\n        rasterized=True,  # \u5149\u6805\u5316\u4ee5\u63d0\u9ad8\u6027\u80fd\n    )\n\n    # \u6807\u8bb0\u5cf0\u503c\uff08\u5982\u679c\u63d0\u4f9b\uff09- \u53ea\u5728\u786e\u5b9e\u9700\u8981\u65f6\u6267\u884c\n    if peaks and len(peaks) &gt; 0:\n        peak_freqs = [p[\"frequency\"] for p in peaks]\n        peak_mags = [10 * np.log10(p[\"magnitude\"] + 1e-12) for p in peaks]\n        ax.plot(\n            peak_freqs,\n            peak_mags,\n            \"o\",\n            color=\"#D55E00\",\n            markersize=5,\n            markeredgewidth=1.0,\n            markeredgecolor=\"black\",\n            alpha=1.0,\n            zorder=10,\n            label=\"Peak Frequencies\",\n        )\n\n        # \u4e3a\u524d\u4e09\u4e2a\u5cf0\u6dfb\u52a0\u6807\u7b7e - \u4ec5\u5904\u7406\u4e00\u5c0f\u90e8\u5206\u5cf0\u503c\n        for i, (f, m) in enumerate(\n            zip(\n                peak_freqs[: min(3, len(peak_freqs))],\n                peak_mags[: min(3, len(peak_mags))],\n            )\n        ):\n            ax.annotate(\n                f\"{f:.1f} Hz\",\n                xy=(f, m),\n                xytext=(5, 5),\n                textcoords=\"offset points\",\n                fontsize=9,\n                fontweight=\"bold\",\n                bbox=dict(\n                    boxstyle=\"round,pad=0.3\", fc=\"white\", ec=\"black\", alpha=0.9\n                ),\n            )\n\n    # \u6807\u8bb0\u6fc0\u52b1\u9891\u7387 - \u53ea\u5728\u786e\u5b9e\u9700\u8981\u65f6\u6267\u884c\n    if excitation_freq is not None:\n        # \u4ee5\u6fc0\u52b1\u9891\u7387\u4e3a\u4e2d\u5fc3\uff0c\u7a97\u53e3\u5927\u5c0f\u53d6\u51b3\u4e8e\u6570\u636e\u8303\u56f4\n        data_range = np.max(frequencies) - np.min(frequencies)\n        window_size = min(data_range * 0.4, excitation_freq * 0.6)\n\n        # \u6027\u80fd\u4f18\u5316\uff1a\u907f\u514d\u591a\u6b21\u8c03\u7528set_xlim\n        ax.set_xlim(\n            max(0, excitation_freq - window_size), excitation_freq + window_size\n        )\n\n        # \u6dfb\u52a0\u5782\u76f4\u7ebf\u6807\u8bb0\u6fc0\u52b1\u9891\u7387\n        ax.axvline(\n            excitation_freq,\n            color=\"#D55E00\",\n            linestyle=\"--\",\n            linewidth=1.5,\n            alpha=0.7,\n            zorder=6,\n            label=f\"Excitation: {excitation_freq:.1f} Hz\",\n        )\n\n    # \u8bbe\u7f6e\u7f51\u683c - \u7b80\u5316\u7f51\u683c\u8bbe\u7f6e\u4ee5\u63d0\u9ad8\u6027\u80fd\n    ax.grid(True, which=\"major\", linestyle=\"--\", alpha=0.5, zorder=1)\n\n    # \u7981\u7528\u6b21\u523b\u5ea6\u4ee5\u63d0\u9ad8\u6027\u80fd\n    plt.minorticks_off()\n\n    # \u6539\u5584x\u8f74\u523b\u5ea6\u683c\u5f0f - \u7b80\u5316\u523b\u5ea6\u5904\u7406\n    if max(frequencies) &gt; 1000:\n        ax.xaxis.set_major_formatter(\n            ticker.FuncFormatter(\n                lambda x, pos: f\"{x / 1000:.0f}\" if x &gt;= 1000 else f\"{x:.0f}\"\n            )\n        )\n        ax.set_xlabel(\"Frequency (kHz)\")\n    else:\n        ax.set_xlabel(\"Frequency (Hz)\")\n\n    ax.set_ylabel(\"Magnitude (dB)\")\n\n    # \u56fe\u4f8b\u8bbe\u7f6e\uff08\u5982\u679c\u6709\u9700\u8981\u7684\u8bdd\uff09\n    if (excitation_freq is not None or peaks) and ax.get_legend_handles_labels()[0]:\n        leg = ax.legend(\n            loc=\"best\", frameon=True, framealpha=0.9, fontsize=9, edgecolor=\"black\"\n        )\n        # \u7b80\u5316\u56fe\u4f8b\u6837\u5f0f\u8bbe\u7f6e\n        for line in leg.get_lines():\n            line.set_linewidth(2.0)\n\n    # \u4f7f\u7528\u81ea\u5b9a\u4e49\u6807\u9898\u6216\u9ed8\u8ba4\u6807\u9898\n    if title:\n        plot_title = title\n    elif excitation_freq and channel_id is not None:\n        plot_title = (\n            f\"Spectrum for Channel {channel_id} around {excitation_freq:.1f} Hz\"\n        )\n    elif excitation_freq:\n        plot_title = f\"Spectrum around {excitation_freq:.1f} Hz\"\n    elif channel_id is not None:\n        plot_title = f\"Spectrum for Channel {channel_id}\"\n    else:\n        plot_title = \"Spectrum\"\n    ax.set_title(plot_title, fontweight=\"bold\")\n\n    # \u8bbe\u7f6ey\u8f74\u8303\u56f4\n    if db_range is not None:\n        # \u5982\u679c\u63d0\u4f9b\u4e86dB\u8303\u56f4\uff0c\u76f4\u63a5\u4f7f\u7528\n        ax.set_ylim(db_range)\n    else:\n        # \u6027\u80fd\u4f18\u5316\uff1a\u76f4\u63a5\u4f7f\u7528\u6570\u636e\u8303\u56f4\u8bbe\u7f6ey\u8f74\u8303\u56f4\uff0c\u907f\u514d\u989d\u5916\u8ba1\u7b97\n        ymin = np.min(magnitudes_db)\n        ymax = np.max(magnitudes_db)\n        y_range = ymax - ymin\n        ax.set_ylim(ymin - 0.05 * y_range, ymax + 0.05 * y_range)\n\n    # \u81ea\u52a8\u8c03\u6574\u5e03\u5c40\n    fig.tight_layout()\n\n    return fig\n</code></pre>"},{"location":"api/visualization/#waveformplot","title":"WaveformPlot","text":""},{"location":"api/visualization/#DASMatrix.visualization.das_visualizer.WaveformPlot","title":"WaveformPlot","text":"<pre><code>WaveformPlot(config: Optional[VisualizationConfig] = None)\n</code></pre> <p>               Bases: <code>PlotBase</code></p> <p>\u65f6\u57df\u6ce2\u5f62\u56fe (Time Domain Waveform Plot)</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/visualization/das_visualizer.py</code> <pre><code>def __init__(self, config: Optional[VisualizationConfig] = None):\n    \"\"\"\u521d\u59cb\u5316\u7ed8\u56fe\u57fa\u7c7b\n\n    Args:\n        config: \u53ef\u89c6\u5316\u914d\u7f6e\uff0c\u82e5\u672a\u6307\u5b9a\u5219\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\n    \"\"\"\n    self.config = config or VisualizationConfig()\n    self.logger = logging.getLogger(__name__)\n    self._setup_style()\n</code></pre>"},{"location":"api/visualization/#DASMatrix.visualization.das_visualizer.WaveformPlot.plot","title":"plot","text":"<pre><code>plot(amplitude_data: ndarray, fs: float, time_range: Optional[Tuple[float, float]] = None, amplitude_range: Optional[Tuple[float, float]] = None, title: Optional[str] = None, highlight_regions: Optional[List[Tuple[float, float]]] = None) -&gt; Any\n</code></pre> <p>\u7ed8\u5236\u65f6\u57df\u6ce2\u5f62\u56fe</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>amplitude_data</code> <code>ndarray</code> <p>\u5e45\u503c\u6570\u7ec4</p> \u5fc5\u9700 <code>fs</code> <code>float</code> <p>\u91c7\u6837\u9891\u7387 (Hz)</p> \u5fc5\u9700 <code>amplitude_range</code> <code>Optional[Tuple[float, float]]</code> <p>\u53ef\u9009\uff0c\u5e45\u503c\u663e\u793a\u8303\u56f4 (min_amplitude, max_amplitude)</p> <code>None</code> <code>time_range</code> <code>Optional[Tuple[float, float]]</code> <p>\u53ef\u9009\uff0c\u65f6\u95f4\u663e\u793a\u8303\u56f4 (start_time, end_time)</p> <code>None</code> <code>title</code> <code>Optional[str]</code> <p>\u81ea\u5b9a\u4e49\u6807\u9898 (\u82f1\u6587), \u82e5\u672a\u6307\u5b9a\u5219\u4f7f\u7528\u9ed8\u8ba4\u6807\u9898</p> <code>None</code> <code>highlight_regions</code> <code>Optional[List[Tuple[float, float]]]</code> <p>\u53ef\u9009\u7684\u9ad8\u4eae\u533a\u57df\u5217\u8868\uff0c\u6bcf\u4e2a\u5143\u7d20\u4e3a(\u5f00\u59cb\u65f6\u95f4, \u7ed3\u675f\u65f6\u95f4)\u5143\u7ec4</p> <code>None</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>Figure</code> <code>Any</code> <p>matplotlib \u56fe\u5f62\u5bf9\u8c61</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/visualization/das_visualizer.py</code> <pre><code>def plot(\n    self,\n    amplitude_data: np.ndarray,\n    fs: float,\n    time_range: Optional[Tuple[float, float]] = None,\n    amplitude_range: Optional[Tuple[float, float]] = None,\n    title: Optional[str] = None,\n    highlight_regions: Optional[List[Tuple[float, float]]] = None,\n) -&gt; Any:  # \u8fd4\u56de\u7c7b\u578b\u6539\u4e3a Any\n    \"\"\"\u7ed8\u5236\u65f6\u57df\u6ce2\u5f62\u56fe\n\n    Args:\n        amplitude_data: \u5e45\u503c\u6570\u7ec4\n        fs: \u91c7\u6837\u9891\u7387 (Hz)\n        amplitude_range: \u53ef\u9009\uff0c\u5e45\u503c\u663e\u793a\u8303\u56f4 (min_amplitude, max_amplitude)\n        time_range: \u53ef\u9009\uff0c\u65f6\u95f4\u663e\u793a\u8303\u56f4 (start_time, end_time)\n        title: \u81ea\u5b9a\u4e49\u6807\u9898 (\u82f1\u6587), \u82e5\u672a\u6307\u5b9a\u5219\u4f7f\u7528\u9ed8\u8ba4\u6807\u9898\n        highlight_regions: \u53ef\u9009\u7684\u9ad8\u4eae\u533a\u57df\u5217\u8868\uff0c\u6bcf\u4e2a\u5143\u7d20\u4e3a(\u5f00\u59cb\u65f6\u95f4, \u7ed3\u675f\u65f6\u95f4)\u5143\u7ec4\n\n    Returns:\n        Figure: matplotlib \u56fe\u5f62\u5bf9\u8c61\n    \"\"\"\n    # \u5ef6\u8fdf\u5bfc\u5165 matplotlib\n    import matplotlib.pyplot as plt\n    import matplotlib.ticker as ticker\n\n    # \u6839\u636e\u91c7\u6837\u7387\u81ea\u52a8\u751f\u6210\u65f6\u95f4\u6570\u7ec4\n    num_samples = len(amplitude_data)\n    time_data = np.linspace(0, num_samples / fs, num_samples, endpoint=False)\n\n    # \u6027\u80fd\u4f18\u5316\uff1a\u5bf9\u5927\u6570\u636e\u8fdb\u884c\u964d\u91c7\u6837\uff0c\u53ea\u5728\u65f6\u57df\u7ed8\u56fe\u4e2d\u4f7f\u7528\n    # \u5bf9\u4e8e\u5927\u4e8e10\u4e07\u70b9\u7684\u6570\u636e\u8fdb\u884c\u667a\u80fd\u964d\u91c7\u6837\n    MAX_POINTS_TO_PLOT = 10000  # \u6700\u5927\u7ed8\u5236\u70b9\u6570\u9608\u503c\uff0c\u8d85\u8fc7\u6b64\u503c\u8fdb\u884c\u964d\u91c7\u6837\n\n    # \u5982\u679c\u6307\u5b9a\u4e86\u65f6\u95f4\u8303\u56f4\uff0c\u5148\u8fc7\u6ee4\u6570\u636e\n    if time_range is not None:\n        start_time, end_time = time_range\n        mask = (time_data &gt;= start_time) &amp; (time_data &lt;= end_time)\n        time_data = time_data[mask]\n        amplitude_data = amplitude_data[mask]\n\n    if len(amplitude_data) &gt; MAX_POINTS_TO_PLOT:\n        # \u4f7f\u7528\u5747\u5300\u964d\u91c7\u6837\n        step = len(amplitude_data) // MAX_POINTS_TO_PLOT\n        # \u786e\u4fdd\u6355\u83b7\u6700\u5927\u548c\u6700\u5c0f\u503c\uff0c\u5bf9\u53ef\u89c6\u5316\u975e\u5e38\u91cd\u8981\n        plot_time_data = time_data[::step]\n        plot_amplitude_data = amplitude_data[::step]\n\n        # \u4e3a\u4e86\u786e\u4fdd\u4e0d\u9519\u8fc7\u6781\u503c\u70b9\uff0c\u5728\u6bcf\u4e00\u6bb5\u4e2d\u67e5\u627e\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u70b9\n        if step &gt; 2:  # \u53ea\u6709\u5f53\u964d\u91c7\u6837\u6bd4\u4f8b\u8f83\u5927\u65f6\u624d\u8fdb\u884c\u6781\u503c\u4fdd\u7559\n            max_vals = []\n            min_vals = []\n            max_times = []\n            min_times = []\n\n            for i in range(0, len(amplitude_data), step):\n                chunk = amplitude_data[i : i + step]\n                if len(chunk) &gt; 0:\n                    max_idx = np.argmax(chunk) + i\n                    min_idx = np.argmin(chunk) + i\n                    max_vals.append(amplitude_data[max_idx])\n                    min_vals.append(amplitude_data[min_idx])\n                    max_times.append(time_data[max_idx])\n                    min_times.append(time_data[min_idx])\n\n            # \u5408\u5e76\u5747\u5300\u91c7\u6837\u70b9\u548c\u6781\u503c\u70b9\n            plot_time_data = np.concatenate(\n                [\n                    plot_time_data,\n                    np.array(max_times),\n                    np.array(min_times),\n                ]\n            )\n            plot_amplitude_data = np.concatenate(\n                [\n                    plot_amplitude_data,\n                    np.array(max_vals),\n                    np.array(min_vals),\n                ]\n            )\n\n            # \u6309\u65f6\u95f4\u6392\u5e8f\n            sort_idx = np.argsort(plot_time_data)\n            plot_time_data = plot_time_data[sort_idx]\n            plot_amplitude_data = plot_amplitude_data[sort_idx]\n    else:\n        plot_time_data = time_data\n        plot_amplitude_data = amplitude_data\n\n    # \u521b\u5efa\u5177\u6709\u9ec4\u91d1\u6bd4\u4f8b\u7684\u56fe\u5f62 - \u4f18\u5316\u56fe\u5f62\u521b\u5efa\u8fc7\u7a0b\n    fig, ax = plt.subplots(figsize=self.config.figsize_wide)\n\n    # \u7ed8\u5236\u6ce2\u5f62 - \u76f4\u63a5\u7ed8\u5236\uff0c\u65e0\u9700\u8ba1\u7b97\u7edf\u8ba1\u4fe1\u606f\n    # \u6027\u80fd\u4f18\u5316\uff1a\u4f7f\u7528\u66f4\u9ad8\u6548\u7684\u7ebf\u6761\u6e32\u67d3\uff0c\u51cf\u5c11\u4e2d\u95f4\u8ba1\u7b97\n    (line,) = ax.plot(\n        plot_time_data,\n        plot_amplitude_data,\n        color=\"#0072B2\",\n        linewidth=1.0,\n        alpha=0.9,\n        zorder=5,\n        rasterized=True,  # \u5149\u6805\u5316\u53ef\u663e\u8457\u63d0\u9ad8\u5927\u91cf\u6570\u636e\u70b9\u7684\u6e32\u67d3\u6027\u80fd\n    )\n\n    # \u6dfb\u52a0\u9ad8\u4eae\u533a\u57df\uff08\u5982\u679c\u6709\uff09- \u53ea\u6709\u5728\u786e\u5b9e\u9700\u8981\u65f6\u624d\u6267\u884c\n    if highlight_regions:\n        for i, (start, end) in enumerate(highlight_regions):\n            ax.axvspan(\n                start,\n                end,\n                alpha=0.2,\n                color=plt.cm.get_cmap(\"tab10\")(i % 10),\n                zorder=2,\n            )\n            # \u6dfb\u52a0\u533a\u57df\u6807\u7b7e\n            mid_point = (start + end) / 2\n            ax.annotate(\n                f\"Region {i + 1}\",\n                xy=(mid_point, ax.get_ylim()[1] * 0.9),\n                ha=\"center\",\n                fontsize=9,\n                fontweight=\"bold\",\n                bbox=dict(\n                    boxstyle=\"round,pad=0.2\", fc=\"white\", ec=\"gray\", alpha=0.8\n                ),\n            )\n\n    # \u8bbe\u7f6e\u7f51\u683c - \u7b80\u5316\u7f51\u683c\u6837\u5f0f\n    ax.grid(True, which=\"major\", linestyle=\"--\", alpha=0.4, zorder=1)\n\n    # \u8ba1\u7b97\u5e76\u6807\u8bb0\u96f6\u7ebf\n    ax.axhline(\n        y=0, color=\"black\", linestyle=\"-\", linewidth=0.8, alpha=0.5, zorder=3\n    )\n\n    # \u8bbe\u7f6ey\u8f74\u8303\u56f4\n    if amplitude_range is not None:\n        # \u5982\u679c\u63d0\u4f9b\u4e86\u5e45\u503c\u8303\u56f4\uff0c\u76f4\u63a5\u4f7f\u7528\n        ax.set_ylim(amplitude_range)\n    else:\n        # \u6027\u80fd\u4f18\u5316\uff1a\u76f4\u63a5\u4f7f\u7528\u6570\u636e\u7684\u6700\u5c0f\u6700\u5927\u503c\u8bbe\u7f6ey\u8f74\u8303\u56f4\uff0c\u907f\u514d\u989d\u5916\u8ba1\u7b97\n        y_min, y_max = np.min(plot_amplitude_data), np.max(plot_amplitude_data)\n        y_range = y_max - y_min\n        ax.set_ylim(y_min - 0.1 * y_range, y_max + 0.1 * y_range)\n\n    # \u8bbe\u7f6ex\u8f74\u8303\u56f4\uff08\u5982\u679c\u63d0\u4f9b\u4e86time_range\u4f46\u6ca1\u6709\u8fc7\u6ee4\u6570\u636e\uff09\n    if time_range is not None and not (\n        time_data[0] &gt;= time_range[0] and time_data[-1] &lt;= time_range[1]\n    ):\n        ax.set_xlim(time_range)\n\n    # \u4f18\u5316\u5750\u6807\u8f74\n    ax.set_xlabel(\"Time (s)\")\n    ax.set_ylabel(\"Amplitude\")\n\n    # \u7b80\u5316\u65f6\u95f4\u523b\u5ea6\u683c\u5f0f\n    if max(plot_time_data) - min(plot_time_data) &gt; 60:\n        # \u8d85\u8fc760\u79d2\uff0c\u4ee5\u5206:\u79d2\u663e\u793a\n        ax.xaxis.set_major_formatter(\n            ticker.FuncFormatter(\n                lambda x, pos: f\"{int(x / 60)}:{int(x % 60):02d}\"\n                if x &gt;= 60\n                else f\"{int(x)}\"\n            )\n        )\n        ax.set_xlabel(\"Time (min:sec)\")\n\n    # \u4f7f\u7528\u81ea\u5b9a\u4e49\u6807\u9898\u6216\u9ed8\u8ba4\u6807\u9898\n    if title:\n        plot_title = title\n    else:\n        plot_title = \"Time Domain Waveform\"\n    ax.set_title(plot_title, fontweight=\"bold\")\n\n    # \u7981\u7528\u4e0d\u5fc5\u8981\u7684\u523b\u5ea6\uff0c\u63d0\u9ad8\u6027\u80fd\n    plt.minorticks_off()\n\n    # \u81ea\u52a8\u8c03\u6574\u5e03\u5c40\n    fig.tight_layout()\n\n    return fig\n</code></pre>"},{"location":"api/visualization/#waterfallplot","title":"WaterfallPlot","text":""},{"location":"api/visualization/#DASMatrix.visualization.das_visualizer.WaterfallPlot","title":"WaterfallPlot","text":"<pre><code>WaterfallPlot(config: Optional[VisualizationConfig] = None)\n</code></pre> <p>               Bases: <code>PlotBase</code></p> <p>\u7011\u5e03\u56fe (Waterfall Plot) \u7ed8\u56fe\u7c7b\uff0c\u7528\u4e8e\u53ef\u89c6\u5316\u4e8c\u7ef4\u6570\u636e</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/visualization/das_visualizer.py</code> <pre><code>def __init__(self, config: Optional[VisualizationConfig] = None):\n    \"\"\"\u521d\u59cb\u5316\u7ed8\u56fe\u57fa\u7c7b\n\n    Args:\n        config: \u53ef\u89c6\u5316\u914d\u7f6e\uff0c\u82e5\u672a\u6307\u5b9a\u5219\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\n    \"\"\"\n    self.config = config or VisualizationConfig()\n    self.logger = logging.getLogger(__name__)\n    self._setup_style()\n</code></pre>"},{"location":"api/visualization/#DASMatrix.visualization.das_visualizer.WaterfallPlot.plot","title":"plot","text":"<pre><code>plot(data: ndarray, fs: float, x_label: str = 'Channels', y_label: str = 'Time (s)', title: Optional[str] = None, cmap: str = 'viridis', colorbar_label: str = 'Amplitude', aspect: str = 'auto', origin: str = 'upper', x_ticks: Optional[ndarray] = None, y_ticks: Optional[ndarray] = None, value_range: Optional[Tuple[float, float]] = None) -&gt; Any\n</code></pre> <p>\u7ed8\u5236\u7011\u5e03\u56fe\uff08\u4e8c\u7ef4\u6570\u636e\u53ef\u89c6\u5316\uff09</p> <p>\u53c2\u6570\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 \u9ed8\u8ba4 <code>data</code> <code>ndarray</code> <p>\u4e8c\u7ef4\u6570\u7ec4\uff0c\u5f62\u72b6\u4e3a (time_samples, channels) \u6216 (channels, time_samples)</p> \u5fc5\u9700 <code>fs</code> <code>float</code> <p>\u91c7\u6837\u9891\u7387 (Hz)</p> \u5fc5\u9700 <code>x_label</code> <code>str</code> <p>X\u8f74\u6807\u7b7e</p> <code>'Channels'</code> <code>y_label</code> <code>str</code> <p>Y\u8f74\u6807\u7b7e</p> <code>'Time (s)'</code> <code>title</code> <code>Optional[str]</code> <p>\u81ea\u5b9a\u4e49\u6807\u9898 (\u82f1\u6587)</p> <code>None</code> <code>cmap</code> <code>str</code> <p>\u8272\u5f69\u6620\u5c04\u540d\u79f0</p> <code>'viridis'</code> <code>colorbar_label</code> <code>str</code> <p>\u989c\u8272\u6761\u6807\u7b7e</p> <code>'Amplitude'</code> <code>aspect</code> <code>str</code> <p>\u56fe\u50cf\u7eb5\u6a2a\u6bd4\uff0c'auto' \u6216 'equal'</p> <code>'auto'</code> <code>origin</code> <code>str</code> <p>\u6570\u636e\u539f\u70b9\u4f4d\u7f6e\uff0c'upper' \u6216 'lower'</p> <code>'upper'</code> <code>x_ticks</code> <code>Optional[ndarray]</code> <p>\u53ef\u9009\uff0cX\u8f74\u523b\u5ea6\u503c</p> <code>None</code> <code>y_ticks</code> <code>Optional[ndarray]</code> <p>\u53ef\u9009\uff0cY\u8f74\u523b\u5ea6\u503c</p> <code>None</code> <code>value_range</code> <code>Optional[Tuple[float, float]]</code> <p>\u53ef\u9009\uff0c\u6570\u636e\u503c\u663e\u793a\u8303\u56f4 (min_value, max_value)</p> <code>None</code> <p>\u8fd4\u56de\uff1a</p> \u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 <code>Figure</code> <code>Any</code> <p>matplotlib \u56fe\u5f62\u5bf9\u8c61</p> \u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a <code>DASMatrix/visualization/das_visualizer.py</code> <pre><code>def plot(\n    self,\n    data: np.ndarray,\n    fs: float,\n    x_label: str = \"Channels\",\n    y_label: str = \"Time (s)\",\n    title: Optional[str] = None,\n    cmap: str = \"viridis\",\n    colorbar_label: str = \"Amplitude\",\n    aspect: str = \"auto\",\n    origin: str = \"upper\",\n    x_ticks: Optional[np.ndarray] = None,\n    y_ticks: Optional[np.ndarray] = None,\n    value_range: Optional[Tuple[float, float]] = None,\n) -&gt; Any:\n    \"\"\"\u7ed8\u5236\u7011\u5e03\u56fe\uff08\u4e8c\u7ef4\u6570\u636e\u53ef\u89c6\u5316\uff09\n\n    Args:\n        data: \u4e8c\u7ef4\u6570\u7ec4\uff0c\u5f62\u72b6\u4e3a (time_samples, channels) \u6216 (channels, time_samples)\n        fs: \u91c7\u6837\u9891\u7387 (Hz)\n        x_label: X\u8f74\u6807\u7b7e\n        y_label: Y\u8f74\u6807\u7b7e\n        title: \u81ea\u5b9a\u4e49\u6807\u9898 (\u82f1\u6587)\n        cmap: \u8272\u5f69\u6620\u5c04\u540d\u79f0\n        colorbar_label: \u989c\u8272\u6761\u6807\u7b7e\n        aspect: \u56fe\u50cf\u7eb5\u6a2a\u6bd4\uff0c'auto' \u6216 'equal'\n        origin: \u6570\u636e\u539f\u70b9\u4f4d\u7f6e\uff0c'upper' \u6216 'lower'\n        x_ticks: \u53ef\u9009\uff0cX\u8f74\u523b\u5ea6\u503c\n        y_ticks: \u53ef\u9009\uff0cY\u8f74\u523b\u5ea6\u503c\n        value_range: \u53ef\u9009\uff0c\u6570\u636e\u503c\u663e\u793a\u8303\u56f4 (min_value, max_value)\n\n    Returns:\n        Figure: matplotlib \u56fe\u5f62\u5bf9\u8c61\n    \"\"\"\n    # \u5ef6\u8fdf\u5bfc\u5165 matplotlib\n    import matplotlib.pyplot as plt\n\n    # \u521b\u5efa\u56fe\u5f62\u548c\u5750\u6807\u8f74\n    fig, ax = plt.subplots(figsize=self.config.figsize_wide)\n\n    # \u786e\u5b9a\u6570\u636e\u663e\u793a\u8303\u56f4\n    if value_range is None:\n        # \u81ea\u52a8\u786e\u5b9a\u5408\u9002\u7684\u6570\u636e\u8303\u56f4\n        vmin = np.percentile(data, 5)  # 5%\u5206\u4f4d\u6570\u4f5c\u4e3a\u6700\u5c0f\u503c\n        vmax = np.percentile(data, 95)  # 95%\u5206\u4f4d\u6570\u4f5c\u4e3a\u6700\u5927\u503c\n\n        # \u5bf9\u79f0\u5316\u8303\u56f4\uff0c\u627e\u51fa\u7edd\u5bf9\u503c\u6700\u5927\u7684\u8303\u56f4\n        abs_max = max(abs(vmin), abs(vmax))\n        if np.min(data) &lt; 0:  # \u5982\u679c\u6570\u636e\u6709\u8d1f\u503c\uff0c\u4f7f\u7528\u5bf9\u79f0\u8303\u56f4\n            vmin, vmax = -abs_max, abs_max\n    else:\n        vmin, vmax = value_range\n\n    # \u7ed8\u5236\u7011\u5e03\u56fe\n    im = ax.imshow(\n        data,\n        cmap=cmap,\n        aspect=aspect,  # type: ignore\n        origin=origin,  # type: ignore\n        interpolation=\"none\",  # \u7981\u7528\u63d2\u503c\u4ee5\u4fdd\u6301\u539f\u59cb\u6570\u636e\u7684\u6e05\u6670\u5ea6\n        vmin=vmin,\n        vmax=vmax,\n    )\n\n    # \u6dfb\u52a0\u989c\u8272\u6761\n    cbar = fig.colorbar(im, ax=ax, pad=0.01)\n    cbar.set_label(colorbar_label, fontsize=11)\n\n    # \u8bbe\u7f6e\u81ea\u5b9a\u4e49\u523b\u5ea6\uff08\u5982\u679c\u63d0\u4f9b\uff09\n    if x_ticks is not None:\n        ax.set_xticks(np.arange(0, data.shape[1], max(1, data.shape[1] // 10)))\n\n        # \u5982\u679c\u63d0\u4f9b\u4e86\u5177\u4f53\u7684x\u523b\u5ea6\u503c\uff0c\u4f7f\u7528\u5b83\u4eec\n        if len(x_ticks) &gt;= data.shape[1]:\n            x_tick_labels = x_ticks[: data.shape[1]]\n            # \u51cf\u5c11\u663e\u793a\u7684\u523b\u5ea6\u6570\u91cf\uff0c\u907f\u514d\u62e5\u6324\n            tick_indices = np.linspace(\n                0, len(x_tick_labels) - 1, min(10, len(x_tick_labels)), dtype=int\n            )\n            ax.set_xticks(tick_indices)\n            ax.set_xticklabels([f\"{x_tick_labels[i]:.0f}\" for i in tick_indices])\n\n    if y_ticks is not None:\n        ax.set_yticks(np.arange(0, data.shape[0], max(1, data.shape[0] // 10)))\n\n        # \u5982\u679c\u63d0\u4f9b\u4e86\u5177\u4f53\u7684y\u523b\u5ea6\u503c\uff0c\u4f7f\u7528\u5b83\u4eec\n        if len(y_ticks) &gt;= data.shape[0]:\n            y_tick_labels = y_ticks[: data.shape[0]]\n            # \u51cf\u5c11\u663e\u793a\u7684\u523b\u5ea6\u6570\u91cf\uff0c\u907f\u514d\u62e5\u6324\n            tick_indices = np.linspace(\n                0, len(y_tick_labels) - 1, min(10, len(y_tick_labels)), dtype=int\n            )\n            ax.set_yticks(tick_indices)\n            ax.set_yticklabels([f\"{y_tick_labels[i]:.1f}\" for i in tick_indices])\n    else:\n        # \u6839\u636e\u91c7\u6837\u9891\u7387\u8ba1\u7b97\u65f6\u95f4\u523b\u5ea6\n        if origin == \"upper\" or origin == \"lower\":\n            # \u8ba1\u7b97\u65f6\u95f4\u8f74\u7684\u5b9e\u9645\u503c\uff08\u79d2\uff09\n            time_values = np.arange(data.shape[0]) / fs\n\n            # \u8bbe\u7f6e\u5408\u9002\u7684\u65f6\u95f4\u523b\u5ea6\u6570\u91cf\n            num_ticks = min(10, data.shape[0])\n            tick_indices = np.linspace(0, data.shape[0] - 1, num_ticks, dtype=int)\n\n            ax.set_yticks(tick_indices)\n\n            # \u6839\u636e\u65f6\u95f4\u957f\u5ea6\u683c\u5f0f\u5316\u6807\u7b7e\n            if max(time_values) &gt; 60:\n                # \u5982\u679c\u65f6\u95f4\u8d85\u8fc760\u79d2\uff0c\u4f7f\u7528\u5206:\u79d2\u683c\u5f0f\n                ax.set_yticklabels(\n                    [\n                        f\"{int(time_values[i] / 60)}:{int(time_values[i] % 60):02d}\"\n                        for i in tick_indices\n                    ]\n                )\n                y_label = \"Time (min:sec)\"\n            else:\n                # \u5426\u5219\u4f7f\u7528\u79d2\u683c\u5f0f\n                ax.set_yticklabels([f\"{time_values[i]:.1f}\" for i in tick_indices])\n                y_label = \"Time (s)\"\n\n    # \u8bbe\u7f6e\u6807\u7b7e\n    ax.set_xlabel(x_label, fontsize=12)\n    ax.set_ylabel(y_label, fontsize=12)\n\n    # \u8bbe\u7f6e\u6807\u9898\n    if title:\n        plot_title = title\n    else:\n        plot_title = \"Waterfall Plot\"\n    ax.set_title(plot_title, fontweight=\"bold\", fontsize=14)\n\n    # \u4f18\u5316\u7f51\u683c\u548c\u523b\u5ea6\n    ax.grid(False)  # \u5bf9\u4e8eimshow\u7c7b\u578b\u7684\u56fe\uff0c\u901a\u5e38\u4e0d\u9700\u8981\u7f51\u683c\n\n    # \u81ea\u52a8\u8c03\u6574\u5e03\u5c40\n    fig.tight_layout()\n\n    # \u6dfb\u52a0\u53ef\u9009\u6c34\u5370\n    self._add_watermark(fig, ax)\n\n    return fig\n</code></pre>"}]}